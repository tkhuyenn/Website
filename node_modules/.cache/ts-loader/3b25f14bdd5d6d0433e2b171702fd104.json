{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\view\\Kyc.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\view\\Kyc.vue","mtime":1660123011578},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\babel.config.js","mtime":1660970148265},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOlxcTkVVXFxDRFRUXFxmcm9udGVuZFxcV2Vic2l0ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVTdXBlci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IGdldFJlcG9zaXRvcnkgZnJvbSAnQC9zZXJ2aWNlcyc7CmltcG9ydCBmaWx0ZXIgZnJvbSAnbG9kYXNoL2ZpbHRlcic7CmltcG9ydCB0cmltIGZyb20gJ2xvZGFzaC90cmltJzsKaW1wb3J0IGluY2x1ZGVzIGZyb20gJ2xvZGFzaC9pbmNsdWRlcyc7CmltcG9ydCBjb3VudHJ5SnNvbiBmcm9tICdAL3V0aWxzL2NvdW50cnkvaW5kZXguanNvbic7CnZhciBhcGlQYXJhbXMgPSBnZXRSZXBvc2l0b3J5KCdwYXJhbXMnKTsKdmFyIGFwaSA9IGdldFJlcG9zaXRvcnkoJ3NldHRpbmcnKTsgLy8gaW1wb3J0IFVzZXJSZXBvc2l0b3J5IGZyb20gJ0Avc2VydmljZXMvcmVwb3NpdG9yaWVzL3VzZXInCgppbXBvcnQgeyBuYW1lc3BhY2UgfSBmcm9tICd2dWV4LWNsYXNzJzsKdmFyIGJlQmFzZSA9IG5hbWVzcGFjZSgnYmVCYXNlJyk7IC8vIGNvbnN0IGFwaUF1dGg6IEF1dGhSZXBvc2l0b3J5ID0gZ2V0UmVwb3NpdG9yeSgnYXV0aCcpCgppbXBvcnQgZmluZEluZGV4IGZyb20gJ2xvZGFzaC9maW5kSW5kZXgnOwoKdmFyIEJsS3ljID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEJsS3ljLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihCbEt5Yyk7CgogIGZ1bmN0aW9uIEJsS3ljKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbEt5Yyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gYXBpVXNlcj86IFVzZXJSZXBvc2l0b3J5CgogICAgX3RoaXMuc3RhdHVzS3ljID0gJyc7IC8vIGxvYWRpbmcgPSB0cnVlCgogICAgX3RoaXMubGlua0Zha2UgPSAnaHR0cHM6Ly9hdmkuZWR1LnZuL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE5LzExL2xvbmRvbi0yMzkzMDk4LmpwZyc7CiAgICBfdGhpcy5kYXRhSW5wdXQgPSB7CiAgICAgIGlkY2FyZDogJ0lEX0NBUkQnLAogICAgICBmaXJzdE5hbWU6ICcnLAogICAgICBsYXN0TmFtZTogJycsCiAgICAgIG5hdGlvbjogJycsCiAgICAgIGlkTnVpZGVudGlmaWNhdGlvbk51bWJlcm1iZXI6ICcnLAogICAgICBuYXRpb25hbGl0eTogJycsCiAgICAgIGlkZW50aWZpY2F0aW9uTnVtYmVyOiAnJywKICAgICAgdXNlcklkOiAnJywKICAgICAgdXNlckdyb3VwSWQ6ICcnLAogICAgICBreWNSZWplY3RSZWFzb25zOiAnJwogICAgfTsKICAgIF90aGlzLmRpc2FibGUgPSBmYWxzZTsKICAgIF90aGlzLmxpc3RDb3VudHJ5ID0gY291bnRyeUpzb247CiAgICBfdGhpcy5pc1VwbG9hZCA9IGZhbHNlOwogICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgX3RoaXMuaWRQaG90bzEgPSAnJzsKICAgIF90aGlzLmlkcGhvdG8yID0gJyc7CiAgICBfdGhpcy5zZWxmaWVQaG90byA9ICcnOwogICAgX3RoaXMubGluazEgPSAnJzsKICAgIF90aGlzLmlzQ2FyZCA9IGZhbHNlOwogICAgX3RoaXMuaXNQYXNzcG9ydCA9IGZhbHNlOwogICAgX3RoaXMuaXNTdWNjZXNzID0gZmFsc2U7CiAgICBfdGhpcy5maWxlTGlzdCA9IFtdOwogICAgX3RoaXMuZmlsZUxpc3QyID0gW107CiAgICBfdGhpcy5maWxlTGlzdDMgPSBbXTsKICAgIF90aGlzLnNyY0xpc3QgPSBbJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS84LzI3L2YwMWMxNWJiNzNlMWVmMzc5M2U2NGU2YjdiYmNjanBlZy5qcGVnJ107CiAgICBfdGhpcy5kYXRhID0gW107CiAgICBfdGhpcy5kYXRhRGV0YWlsID0ge307CiAgICBfdGhpcy5kYXRhVXBkYXRlID0gewogICAgICBpZGVudGlmaWNhdGlvblR5cGU6ICcnLAogICAgICB1c2VySWQ6ICcnLAogICAgICBmaXJzdE5hbWU6ICcnLAogICAgICBsYXN0TmFtZTogJycsCiAgICAgIGlkZW50aWZpY2F0aW9uTnVtYmVyOiAnJywKICAgICAgbmF0aW9uYWxpdHk6ICcnLAogICAgICBpZFBob3RvMTogJycsCiAgICAgIGlkUGhvdG8yOiAnJywKICAgICAgc2VsZmllUGhvdG86ICcnCiAgICB9OwogICAgX3RoaXMuaXNDbG9zZSA9IGZhbHNlOwogICAgX3RoaXMuaXNTdG9wRGJDbGljayA9IGZhbHNlOwogICAgX3RoaXMubGlzdFJlamVjdFJlYXNvbiA9IFtdOwogICAgX3RoaXMubGlzdExldmVsID0gW107CiAgICBfdGhpcy5jdXJyZW50TGV2ZWwgPSB7fTsKICAgIF90aGlzLnJ1bGVzID0gewogICAgICBpZGVudGlmaWNhdGlvbk51bWJlcjogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiBfdGhpcy4kdCgnc2V0dGluZ2t5Yy53cm9uZ2lkTnVtYmVyJyksCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBuYXRpb25hbGl0eTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiBfdGhpcy4kdCgnc2V0dGluZ2t5Yy53cm9uZ2lkTnVtYmVyJyksCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dCiAgICB9OyAvLyBlbmQgdXBsb2FkIDMKCiAgICBfdGhpcy51cGRhdGVVc2VyID0ge307CiAgICBfdGhpcy5waG90bzEgPSAnJzsKICAgIF90aGlzLmRhdGFLWUMgPSB7CiAgICAgIHR5cGU6IF90aGlzLmRhdGFJbnB1dC5pZGNhcmQsCiAgICAgIC8vIHJmcklkPSB0aGlzLmRhdGFVc2VyLnJmcklkLAogICAgICAvLyBmaXJzdE5hbWU9IHRoaXMuZGF0YVVzZXIuZmlyc3ROYW1lLAogICAgICAvLyBsYXN0TmFtZT0gdGhpcy5kYXRhVXNlci5sYXN0TmFtZSwKICAgICAgaWRlbnRpZmljYXRpb25OdW1iZXI6ICcnLAogICAgICBuYXRpb25hbGl0eTogJycsCiAgICAgIGlkUGhvdG8xOiAnJywKICAgICAgaWRQaG90bzI6ICcnLAogICAgICBzZWxmaWVQaG90bzogJycKICAgIH07CiAgICBfdGhpcy5jb3VudHJ5Q29kZSA9ICcnOwogICAgX3RoaXMuY291bnRyeSA9ICcnOwogICAgX3RoaXMuZGF0YURldGFpbFByb2ZpbGUgPSB7fTsKICAgIF90aGlzLmZvcm0gPSB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgbGFzdE5hbWU6ICcnLAogICAgICBjb25maXJtOiBmYWxzZSwKICAgICAgaWQ6ICcnLAogICAgICBhdmF0YXI6ICcnLAogICAgICBkaXNwbGF5TmFtZTogJycsCiAgICAgIGJpcnRoZGF5OiAnJywKICAgICAgYWRkcmVzczogJycsCiAgICAgIGNpdHlOYW1lOiAnJywKICAgICAgc3RhdGVOYW1lOiAnJywKICAgICAgY291bnRyeTogJycsCiAgICAgIG5hdGlvbmFsaXR5OiAnJwogICAgfTsgLy9yb3RhdGUgaW1hZ2UgMDppZFBob3RvMSwxOmlkUGhvdG8yLDI6aWRQaG90b1NlbGZpZQoKICAgIF90aGlzLnJvdGF0ZURlZyA9IHsKICAgICAgMDogMCwKICAgICAgMTogMCwKICAgICAgMjogMAogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhCbEt5YywgW3sKICAgIGtleTogImdldExldmVsQ3VycmVudCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJGN1cnJlbnRMZXZlbDsKCiAgICAgIHZhciBuYW1lID0gKChfdGhpcyRjdXJyZW50TGV2ZWwgPSB0aGlzLmN1cnJlbnRMZXZlbCkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudExldmVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjdXJyZW50TGV2ZWwuZ3JvdXBOYW1lKSB8fCAnMCc7CiAgICAgIHJldHVybiBuYW1lLm1hdGNoKC9cZCsvKVswXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXROZXh0TGV2ZWxUb3RhbHRyYWRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpcywKICAgICAgICAgIF90aGlzJCRvcHRpb25zJGZpbHRlcjsKCiAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleCh0aGlzLmxpc3RMZXZlbCwgZnVuY3Rpb24gKGVsbSkgewogICAgICAgIHJldHVybiBlbG0uaWQgPT09IF90aGlzMi5jdXJyZW50TGV2ZWwuaWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gKF90aGlzJCRvcHRpb25zJGZpbHRlciA9IHRoaXMuJG9wdGlvbnMuZmlsdGVycykgPT09IG51bGwgfHwgX3RoaXMkJG9wdGlvbnMkZmlsdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkb3B0aW9ucyRmaWx0ZXIuZm9ybWF0TnVtYmVyKHRoaXMubGlzdExldmVsW2luZGV4ICsgMV0udG90YWxUcmFkZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q3VycmVudExldmVsRGVwb3NpdExpbWl0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkJG9wdGlvbnMkZmlsdGVyMjsKCiAgICAgIGlmICghdGhpcy5jdXJyZW50TGV2ZWwuZG9wb3NpdExpbWl0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ3NldHRpbmdreWMudW5saW1pdGVkJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiAnJCcgKyAoKF90aGlzJCRvcHRpb25zJGZpbHRlcjIgPSB0aGlzLiRvcHRpb25zLmZpbHRlcnMpID09PSBudWxsIHx8IF90aGlzJCRvcHRpb25zJGZpbHRlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRvcHRpb25zJGZpbHRlcjIuZm9ybWF0TnVtYmVyKHRoaXMuY3VycmVudExldmVsLmRvcG9zaXRMaW1pdCkpICsgdGhpcy4kdCgnc2V0dGluZ2t5Yy5kYXknKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc01heExldmVsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleCh0aGlzLmxpc3RMZXZlbCwgZnVuY3Rpb24gKGVsbSkgewogICAgICAgIHJldHVybiBlbG0uaWQgPT09IF90aGlzMy5jdXJyZW50TGV2ZWwuaWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gaW5kZXggPT09IHRoaXMubGlzdExldmVsLmxlbmd0aCAtIDE7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2UodHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gdGhpcy5kYXRhRGV0YWlsLmlkZW50aWZpY2F0aW9uVHlwZSkgewogICAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgICB0aGlzLmZpbGVMaXN0MiA9IFtdOwogICAgICAgIHRoaXMuZmlsZUxpc3QzID0gW107CiAgICAgICAgdGhpcy5kYXRhSW5wdXQuaWRlbnRpZmljYXRpb25OdW1iZXIgPSB0aGlzLmRhdGFEZXRhaWwuaWRlbnRpZmljYXRpb25OdW1iZXI7CiAgICAgICAgdGhpcy5kYXRhSW5wdXQubmF0aW9uYWxpdHkgPSB0aGlzLmRhdGFEZXRhaWwubmF0aW9uYWxpdHk7CiAgICAgICAgdGhpcy5pZFBob3RvMSA9IHRoaXMuZGF0YURldGFpbC5pZFBob3RvMTsKICAgICAgICB0aGlzLmlkcGhvdG8yID0gdGhpcy5kYXRhRGV0YWlsLmlkUGhvdG8yOwogICAgICAgIHRoaXMuc2VsZmllUGhvdG8gPSB0aGlzLmRhdGFEZXRhaWwuc2VsZmllUGhvdG87CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICAgIHRoaXMuZmlsZUxpc3QyID0gW107CiAgICAgICAgdGhpcy5maWxlTGlzdDMgPSBbXTsKICAgICAgICB0aGlzLmlkUGhvdG8xID0gJyc7CiAgICAgICAgdGhpcy5pZHBob3RvMiA9ICcnOwogICAgICAgIHRoaXMuc2VsZmllUGhvdG8gPSAnJzsKICAgICAgICB0aGlzLmRhdGFJbnB1dC5pZGVudGlmaWNhdGlvbk51bWJlciA9ICcnOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlY2xvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZWNsb3NlKCkgewogICAgICB0aGlzLmlzQ2xvc2UgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIkhhbmRsZVJlc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBIYW5kbGVSZXNldCgpIHsKICAgICAgaWYgKHRoaXMuc3RhdHVzS3ljID09ICdSRUpFQ1RFRCcpIHsKICAgICAgICB0aGlzLmNoZWNrU3RhdHVzS3ljKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICAgIHRoaXMuZmlsZUxpc3QyID0gW107CiAgICAgICAgdGhpcy5maWxlTGlzdDMgPSBbXTsKICAgICAgICB0aGlzLmlkcGhvdG8yID0gJyc7CiAgICAgICAgdGhpcy5pZFBob3RvMSA9ICcnOwogICAgICAgIHRoaXMuc2VsZmllUGhvdG8gPSAnJzsKICAgICAgICB0aGlzLmRhdGFJbnB1dC5pZGVudGlmaWNhdGlvbk51bWJlciA9ICcnOwogICAgICAgIHRoaXMuZGF0YUlucHV0LmlkY2FyZCA9ICdJRF9DQVJEJzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbW90ZUNvdW50cnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW90ZUNvdW50cnkocXVlcnkpIHsKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdGhpcy5saXN0Q291bnRyeSA9IGZpbHRlcihjb3VudHJ5SnNvbiwgZnVuY3Rpb24gKGNvdW50cnkpIHsKICAgICAgICAgIHJldHVybiB0cmltKGNvdW50cnkuY29kZSkudG9VcHBlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b1VwcGVyQ2FzZSgpKSB8fCB0cmltKGNvdW50cnkubmFtZSkudG9VcHBlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b1VwcGVyQ2FzZSgpKTsKICAgICAgICB9KTsgLy8gaWYgKGN1cnJlbnRDb3VudHJ5Lmxlbmd0aCA+IDApIHsKICAgICAgICAvLyAgIHRoaXMubGlzdENvdW50cnkgPSBjdXJyZW50Q291bnRyeQogICAgICAgIC8vIH0KICAgICAgfSBlbHNlIGlmICghcXVlcnkpIHsKICAgICAgICB0aGlzLmxpc3RDb3VudHJ5ID0gY291bnRyeUpzb247CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJIYW5kbGVWZXJpZnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEhhbmRsZVZlcmlmeSgpIHsKICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNoYW5nZUxldmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VMZXZlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdRdW90YScKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25seU51bWJlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25seU51bWJlcihldmVudCkgewogICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQud2hpY2g7IC8vaWYgKChrZXlDb2RlIDwgNDggfHwga2V5Q29kZSA+IDU3KSAmJiBrZXlDb2RlICE9PSA0NikgewogICAgICAvLyA0NiBpcyBkb3QKCiAgICAgIGlmICgoa2V5Q29kZSA8IDQ4IHx8IGtleUNvZGUgPiA1NykgJiYga2V5Q29kZSAhPT0gNDYpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CgogICAgICBpZiAoa2V5Q29kZSA9PT0gNDYgJiYgaW5jbHVkZXModGhpcy5kYXRhSW5wdXQuaWROdWlkZW50aWZpY2F0aW9uTnVtYmVybWJlciwgJy4nKSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0gLy8gc3RhcnQgdXBsb2FkIGltZzEKCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ2hhbmdlRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZUNoYW5nZUZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZmlsZSkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcHJvY2Vzc0Z1bmN0aW9uLCBkYXRhLCB1aWQsIHJlc3VsdCwgaW5kZXg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmlsZSkKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkUGhvdG8xIHx8IHRoaXMuZmlsZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSAvLyB0aGlzLmhhbmRsZVJlbW92ZShmaWxlKQogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvbgoKCiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICAgICAgICAgIGlmICghKGZpbGUuc3RhdHVzID09PSAncmVhZHknKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZpbGUudHlwZSA9IGZpbGUucmF3LnR5cGU7IC8vIGZpbGUgPSB7CiAgICAgICAgICAgICAgICAvLyAgIC4uLmZpbGUsCiAgICAgICAgICAgICAgICAvLyAgIGxvYWQ6CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXdGaWxlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30KICAgICAgICAgICAgICAgIC8vIG5ld0ZpbGUubmFtZSA9IGZpbGUubmFtZQogICAgICAgICAgICAgICAgLy8gbmV3RmlsZS5zaXplID0gZmlsZS5yYXcuc2l6ZQoKICAgICAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QucHVzaChmaWxlKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLCBmaWxlLnJhdyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJJZCcsIHRoaXMuZGF0YUlucHV0LnVzZXJJZCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCB0aGlzLmRhdGFJbnB1dC5pZGNhcmQpOyAvLyBmb3JtRGF0YS5hcHBlbmQoJ25hbWUnLCBmaWxlLm5hbWUpCgogICAgICAgICAgICAgICAgZmlsZS5wZXJjZW50YWdlID0gMTsKCiAgICAgICAgICAgICAgICBwcm9jZXNzRnVuY3Rpb24gPSBmdW5jdGlvbiBwcm9jZXNzRnVuY3Rpb24ocHJvZ3Jlc3NFdmVudCkgewogICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBwcm9ncmVzc0V2ZW50LmxvYWRlZCAvIHByb2dyZXNzRXZlbnQudG90YWwgKiAxMDA7CiAgICAgICAgICAgICAgICAgIGZpbGUucGVyY2VudGFnZSA9IHByb2dyZXNzOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBkYXRhID0ge307CiAgICAgICAgICAgICAgICBkYXRhLmRhdGEgPSBmb3JtRGF0YTsgLy8gOyhkYXRhLnR5cGUgPSAnY2xndCcpLCAoZGF0YS51c2VySWQgPSAxKQoKICAgICAgICAgICAgICAgIGRhdGEucHJvZ3Jlc3MgPSBwcm9jZXNzRnVuY3Rpb247CiAgICAgICAgICAgICAgICB1aWQgPSBmaWxlLnVpZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwaVVwbG9hZC51cGxvYWRGaWxlKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuaWRQaG90bzEgPSByZXN1bHQuc3VjY2Vzc1swXS51cmw7IC8vIHRoCgogICAgICAgICAgICAgICAgaW5kZXggPSBmaW5kSW5kZXgodGhpcy5maWxlTGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udWlkID09PSB1aWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZmlsZUxpc3RbaW5kZXhdLnVybCA9IHJlc3VsdC5zdWNjZXNzWzBdLnVybDsKICAgICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWQgPSB0cnVlOyAvLyB0aGlzLmZpbGUudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLnJhdykKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRSb3RhdGUoMCk7CiAgICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUZpbGUoX3gpIHsKICAgICAgICByZXR1cm4gX2hhbmRsZUNoYW5nZUZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZUNoYW5nZUZpbGU7CiAgICB9KCkgLy9lbmQgdW5sb2FkIGltZyAxCiAgICAvLyBzdGFydCB1cGxvYWQgaW1nIDIKCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ2hhbmdlRmlsZTIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVDaGFuZ2VGaWxlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZmlsZSkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcHJvY2Vzc0Z1bmN0aW9uLCBkYXRhLCB1aWQsIHJlc3VsdCwgaW5kZXg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICAgICAgICAgICAgaWYgKCEoZmlsZS5zdGF0dXMgPT09ICdyZWFkeScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZpbGUudHlwZSA9IGZpbGUucmF3LnR5cGU7IC8vIGZpbGUgPSB7CiAgICAgICAgICAgICAgICAvLyAgIC4uLmZpbGUsCiAgICAgICAgICAgICAgICAvLyAgIGxvYWQ6CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXdGaWxlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30KICAgICAgICAgICAgICAgIC8vIG5ld0ZpbGUubmFtZSA9IGZpbGUubmFtZQogICAgICAgICAgICAgICAgLy8gbmV3RmlsZS5zaXplID0gZmlsZS5yYXcuc2l6ZQoKICAgICAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QyLnB1c2goZmlsZSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgZmlsZS5yYXcpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VySWQnLCB0aGlzLmRhdGFJbnB1dC51c2VySWQpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0eXBlJywgdGhpcy5kYXRhSW5wdXQuaWRjYXJkKTsgLy8gZm9ybURhdGEuYXBwZW5kKCduYW1lJywgZmlsZS5uYW1lKQoKICAgICAgICAgICAgICAgIGZpbGUucGVyY2VudGFnZSA9IDE7CgogICAgICAgICAgICAgICAgcHJvY2Vzc0Z1bmN0aW9uID0gZnVuY3Rpb24gcHJvY2Vzc0Z1bmN0aW9uKHByb2dyZXNzRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gcHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsICogMTAwOwogICAgICAgICAgICAgICAgICBmaWxlLnBlcmNlbnRhZ2UgPSBwcm9ncmVzczsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgZGF0YS5kYXRhID0gZm9ybURhdGE7IC8vIDsoZGF0YS50eXBlID0gJ2NsZ3QnKSwgKGRhdGEudXNlcklkID0gMSkKCiAgICAgICAgICAgICAgICBkYXRhLnByb2dyZXNzID0gcHJvY2Vzc0Z1bmN0aW9uOwogICAgICAgICAgICAgICAgdWlkID0gZmlsZS51aWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpVXBsb2FkLnVwbG9hZEZpbGUoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuaWRwaG90bzIgPSByZXN1bHQuc3VjY2Vzc1swXS51cmw7CiAgICAgICAgICAgICAgICBpbmRleCA9IGZpbmRJbmRleCh0aGlzLmZpbGVMaXN0MiwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udWlkID09PSB1aWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QyW2luZGV4XS51cmwgPSByZXN1bHQuc3VjY2Vzc1swXS51cmw7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Um90YXRlKDEpOwogICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUZpbGUyKF94MikgewogICAgICAgIHJldHVybiBfaGFuZGxlQ2hhbmdlRmlsZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZUNoYW5nZUZpbGUyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVzZXRSb3RhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Um90YXRlKGlkKSB7CiAgICAgIHRoaXMucm90YXRlRGVnW2lkXSA9IDA7CiAgICB9IC8vZW5kIHVwbG9hZCBpbWcgMgoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVDaGFuZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgICB2YXIgbWVzc2FnZSwgcGFyYW1zLCBmb3JtRGF0YSwgX3RoaXMkYXBpLCBfdGhpcyRhcGkyLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzU3RvcERiQ2xpY2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuaXNTdG9wRGJDbGljayA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pZFBob3RvMSA9PSBudWxsIHx8IHRoaXMuaWRwaG90bzIgPT0gbnVsbCB8fCB0aGlzLnNlbGZpZVBob3RvID09IG51bGwgfHwgdGhpcy5pZFBob3RvMSA9PSAnJyB8fCB0aGlzLmlkcGhvdG8yID09ICcnIHx8IHRoaXMuc2VsZmllUGhvdG8gPT0gJycgfHwgdGhpcy5kYXRhSW5wdXQuaWRlbnRpZmljYXRpb25OdW1iZXIgPT0gbnVsbCB8fCB0aGlzLmRhdGFJbnB1dC5pZGVudGlmaWNhdGlvbk51bWJlciA9PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuJHQoJ3NldHRpbmdreWMudmFsaWRhdGVQaG90bycpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuaXNTdG9wRGJDbGljayA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIGlkZW50aWZpY2F0aW9uVHlwZTogdGhpcy5kYXRhSW5wdXQuaWRjYXJkLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuZGF0YUlucHV0LnVzZXJJZCwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmRhdGFJbnB1dC5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLmRhdGFJbnB1dC5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgaWRlbnRpZmljYXRpb25OdW1iZXI6IHRoaXMuZGF0YUlucHV0LmlkZW50aWZpY2F0aW9uTnVtYmVyLAogICAgICAgICAgICAgICAgICBuYXRpb25hbGl0eTogdGhpcy5kYXRhSW5wdXQubmF0aW9uYWxpdHksCiAgICAgICAgICAgICAgICAgIGlkUGhvdG8xOiB0aGlzLmlkUGhvdG8xLAogICAgICAgICAgICAgICAgICBpZFBob3RvMjogdGhpcy5pZHBob3RvMiwKICAgICAgICAgICAgICAgICAgc2VsZmllUGhvdG86IHRoaXMuc2VsZmllUGhvdG8sCiAgICAgICAgICAgICAgICAgIHJvdGF0ZVNlbGZpZVBob3RvOiAicm90YXRlKCIuY29uY2F0KHRoaXMucm90YXRlRGVnWzJdLCAiZGVnKSIpLAogICAgICAgICAgICAgICAgICByb3RhdGVQaG90bzI6ICJyb3RhdGUoIi5jb25jYXQodGhpcy5yb3RhdGVEZWdbMV0sICJkZWcpIiksCiAgICAgICAgICAgICAgICAgIHJvdGF0ZVBob3RvMTogInJvdGF0ZSgiLmNvbmNhdCh0aGlzLnJvdGF0ZURlZ1swXSwgImRlZykiKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy5maWxlKTsKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmlsZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIChfdGhpcyRhcGkgPSB0aGlzLmFwaSkgPT09IG51bGwgfHwgX3RoaXMkYXBpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhcGkudXBkYXRlS3ljKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5kYXRhRGV0YWlsID0gcmVzOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLnN1Y2Nlc3MoJ0zGsHUgdGjDoG5oIGPDtG5nJyk7CgogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuaXNTdG9wRGJDbGljayA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtLmF2YXRhciA9IHRoaXMudXNlci5hdmF0YXIKICAgICAgICAgICAgICAgICAgX3RoaXM0LmlzU3RvcERiQ2xpY2sgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS53YXJuaW5nKCdMxrB1IHRo4bqldCBi4bqhaScpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICAvL3VwZGF0ZSByZWplY3QKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c0t5YyA9PT0gJ1JFSkVDVEVEJykgewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YScsIHRoaXMuZGF0YUlucHV0KQogICAgICAgICAgICAgICAgICAvLyBhd2FpdCB0aGlzLnVwZGF0ZVByb2ZpbGUoKQogICAgICAgICAgICAgICAgICBkYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMudXBkYXRlVXNlciksIHRoaXMuZGF0YUlucHV0KSwge30sIHsKICAgICAgICAgICAgICAgICAgICBpZFBob3RvMTogdGhpcy5pZFBob3RvMSwKICAgICAgICAgICAgICAgICAgICBpZFBob3RvMjogdGhpcy5pZHBob3RvMiwKICAgICAgICAgICAgICAgICAgICBzZWxmaWVQaG90bzogdGhpcy5zZWxmaWVQaG90bywKICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWNhdGlvbk51bWJlcjogdGhpcy5kYXRhSW5wdXQuaWRlbnRpZmljYXRpb25OdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmljYXRpb25UeXBlOiB0aGlzLmRhdGFJbnB1dC5pZGNhcmQsCiAgICAgICAgICAgICAgICAgICAgbmF0aW9uYWxpdHk6IHRoaXMuZGF0YUlucHV0Lm5hdGlvbmFsaXR5LAogICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNlbGZpZVBob3RvOiAicm90YXRlKCIuY29uY2F0KHRoaXMucm90YXRlRGVnWzJdLCAiZGVnKSIpLAogICAgICAgICAgICAgICAgICAgIHJvdGF0ZVBob3RvMjogInJvdGF0ZSgiLmNvbmNhdCh0aGlzLnJvdGF0ZURlZ1sxXSwgImRlZykiKSwKICAgICAgICAgICAgICAgICAgICByb3RhdGVQaG90bzE6ICJyb3RhdGUoIi5jb25jYXQodGhpcy5yb3RhdGVEZWdbMF0sICJkZWcpIikKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIChfdGhpcyRhcGkyID0gdGhpcy5hcGkpID09PSBudWxsIHx8IF90aGlzJGFwaTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFwaTIudXBkYXRlS3ljUmVqZWN0KGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC5zdGF0dXNLeWMgPSAnUEVORElORyc7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuaXNTdG9wRGJDbGljayA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmlzU3RvcERiQ2xpY2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7CiAgICAgICAgcmV0dXJuIF9oYW5kbGVDaGFuZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZUNoYW5nZTsKICAgIH0oKSAvL3N0YXJ0IHVwbG9hZDMKCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ2hhbmdlRmlsZTMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9oYW5kbGVDaGFuZ2VGaWxlMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoZmlsZSkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcHJvY2Vzc0Z1bmN0aW9uLCBkYXRhLCB1aWQsIHJlc3VsdCwgaW5kZXg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICAgICAgICAgICAgaWYgKCEoZmlsZS5zdGF0dXMgPT09ICdyZWFkeScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZpbGUudHlwZSA9IGZpbGUucmF3LnR5cGU7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0My5wdXNoKGZpbGUpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIGZpbGUucmF3KTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcklkJywgdGhpcy5kYXRhSW5wdXQudXNlcklkKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndHlwZScsIHRoaXMuZGF0YUlucHV0LmlkY2FyZCk7IC8vIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIGZpbGUubmFtZSkKCiAgICAgICAgICAgICAgICBmaWxlLnBlcmNlbnRhZ2UgPSAxOwoKICAgICAgICAgICAgICAgIHByb2Nlc3NGdW5jdGlvbiA9IGZ1bmN0aW9uIHByb2Nlc3NGdW5jdGlvbihwcm9ncmVzc0V2ZW50KSB7CiAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHByb2dyZXNzRXZlbnQubG9hZGVkIC8gcHJvZ3Jlc3NFdmVudC50b3RhbCAqIDEwMDsKICAgICAgICAgICAgICAgICAgZmlsZS5wZXJjZW50YWdlID0gcHJvZ3Jlc3M7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGRhdGEgPSB7fTsKICAgICAgICAgICAgICAgIGRhdGEuZGF0YSA9IGZvcm1EYXRhOyAvLyA7KGRhdGEudHlwZSA9ICdjbGd0JyksIChkYXRhLnVzZXJJZCA9IDEpCgogICAgICAgICAgICAgICAgZGF0YS5wcm9ncmVzcyA9IHByb2Nlc3NGdW5jdGlvbjsKICAgICAgICAgICAgICAgIHVpZCA9IGZpbGUudWlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwaVVwbG9hZC51cGxvYWRGaWxlKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGZpZVBob3RvID0gcmVzdWx0LnN1Y2Nlc3NbMF0udXJsOwogICAgICAgICAgICAgICAgaW5kZXggPSBmaW5kSW5kZXgodGhpcy5maWxlTGlzdDMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnVpZCA9PT0gdWlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0M1tpbmRleF0udXJsID0gcmVzdWx0LnN1Y2Nlc3NbMF0udXJsOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgdGhpcy5yZXNldFJvdGF0ZSgyKTsKICAgICAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VGaWxlMyhfeDMpIHsKICAgICAgICByZXR1cm4gX2hhbmRsZUNoYW5nZUZpbGUzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVDaGFuZ2VGaWxlMzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImhhbmRsZVJlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKCkgewogICAgICB0aGlzLmlkUGhvdG8xID0gJyc7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYW5kbGVSZW1vdmUyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUyKCkgewogICAgICB0aGlzLmlkcGhvdG8yID0gJyc7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYW5kbGVSZW1vdmUzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUzKCkgewogICAgICB0aGlzLnNlbGZpZVBob3RvID0gJyc7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICB2YXIgX3RoaXMkYXBpQXV0aCwKICAgICAgICAgIF90aGlzNSA9IHRoaXM7CgogICAgICAoX3RoaXMkYXBpQXV0aCA9IHRoaXMuYXBpQXV0aCkgPT09IG51bGwgfHwgX3RoaXMkYXBpQXV0aCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYXBpQXV0aC5nZXRJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LmRhdGFJbnB1dCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXM1LmRhdGFJbnB1dCksIHJlcyk7CiAgICAgICAgX3RoaXM1LnVwZGF0ZVVzZXIgPSByZXM7IC8vIHRoaXMucXVlcnkudG90YWwgPSByZXMuZGF0YQoKICAgICAgICBfdGhpczUuY2hlY2tTdGF0dXNLeWMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hlY2tTdGF0dXNLeWMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jaGVja1N0YXR1c0t5YyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIF90aGlzJGFwaTMsCiAgICAgICAgICAgIF90aGlzNiA9IHRoaXM7CgogICAgICAgIHZhciBwYXJhbSwgcmVzdWx0LCBfdGhpcyRhcGk0LCB0eXBlUmVqZWN0LCBfcmVzdWx0LCBhcnJSZWFzb25JZHMsIF90aGlzJGFwaTU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbSA9IHsKICAgICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzLmRhdGFJbnB1dC51c2VySWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gKF90aGlzJGFwaTMgPSB0aGlzLmFwaSkgPT09IG51bGwgfHwgX3RoaXMkYXBpMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYXBpMy5jaGVja1N0YXR1c0t5YyhwYXJhbSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNLeWMgPSByZXN1bHQuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnN0YXR1c0t5YyA9PSAnUkVKRUNURUQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpUGFyYW1zLmdldFR5cGVSZWplY3QoewogICAgICAgICAgICAgICAgICB0eXBlOiAnS1lDX1JFSkVDVF9SRUFTT04nCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgdHlwZVJlamVjdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiAoX3RoaXMkYXBpNCA9IHRoaXMuYXBpKSA9PT0gbnVsbCB8fCBfdGhpcyRhcGk0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhcGk0LmdldERldGFpbEt5Yyh0aGlzLmRhdGFJbnB1dC51c2VySWQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3Jlc3VsdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5kYXRhRGV0YWlsID0gX3Jlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5pZFBob3RvMSA9IHRoaXMuZGF0YURldGFpbC5pZFBob3RvMTsKICAgICAgICAgICAgICAgIHRoaXMuaWRwaG90bzIgPSB0aGlzLmRhdGFEZXRhaWwuaWRQaG90bzI7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGZpZVBob3RvID0gdGhpcy5kYXRhRGV0YWlsLnNlbGZpZVBob3RvOwogICAgICAgICAgICAgICAgdGhpcy5kYXRhSW5wdXQuaWRjYXJkID0gX3Jlc3VsdC5kYXRhLmlkZW50aWZpY2F0aW9uVHlwZTsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YUlucHV0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmRhdGFJbnB1dCksIHRoaXMuZGF0YURldGFpbCk7CiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZURlZyA9IHsKICAgICAgICAgICAgICAgICAgMDogcGFyc2VJbnQodGhpcy5kYXRhRGV0YWlsLnJvdGF0ZVBob3RvMS5yZXBsYWNlKC9bXjAtOV0vZywgJycpKSwKICAgICAgICAgICAgICAgICAgMTogcGFyc2VJbnQodGhpcy5kYXRhRGV0YWlsLnJvdGF0ZVBob3RvMi5yZXBsYWNlKC9bXjAtOV0vZywgJycpKSwKICAgICAgICAgICAgICAgICAgMjogcGFyc2VJbnQodGhpcy5kYXRhRGV0YWlsLnJvdGF0ZVNlbGZpZVBob3RvLnJlcGxhY2UoL1teMC05XS9nLCAnJykpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgYXJyUmVhc29uSWRzID0gdGhpcy5kYXRhRGV0YWlsLmt5Y1JlamVjdFJlYXNvbklkcy5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgdGhpcy5saXN0UmVqZWN0UmVhc29uID0gYXJyUmVhc29uSWRzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7CiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZpbHRlcih0eXBlUmVqZWN0LmNvbnRlbnQsIGZ1bmN0aW9uIChlbG0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxtLmlkID09IGN1cjsKICAgICAgICAgICAgICAgICAgfSlbMF07CiAgICAgICAgICAgICAgICAgIHByZXYucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgICAgICAgICAgfSwgW10pOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzS3ljID09PSAnVkVSSUZJRUQnKSB7CiAgICAgICAgICAgICAgICAgIChfdGhpcyRhcGk1ID0gdGhpcy5hcGkpID09PSBudWxsIHx8IF90aGlzJGFwaTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFwaTUubGltaXREZXRhaWxzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3RMZXZlbCA9IHJlczsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VycmVudExldmVsID0gZmlsdGVyKF90aGlzNi5saXN0TGV2ZWwsIGZ1bmN0aW9uIChsZXZlbCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldmVsLmlkID09PSBfdGhpczYuZGF0YUlucHV0LnVzZXJHcm91cElkOwogICAgICAgICAgICAgICAgICAgIH0pWzBdOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNoZWNrU3RhdHVzS3ljKCkgewogICAgICAgIHJldHVybiBfY2hlY2tTdGF0dXNLeWMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNoZWNrU3RhdHVzS3ljOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0cHJvRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldHByb0ZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRQcm9maWxlKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhRGV0YWlsUHJvZmlsZSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczcuY291bnRyeSA9IHJlcy5kYXRhLmNvdW50cnk7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5jb3VudHJ5Q29kZSA9IHJlcy5kYXRhLmNvdW50cnlDb2RlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldHByb0ZpbGUoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRwcm9GaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRwcm9GaWxlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaGFuZGxlQ3JlYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgICAgdmFyIG1lc3NhZ2UsIF90aGlzJGFwaTYsIHBhcmFtczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1N0b3BEYkNsaWNrKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLmlzU3RvcERiQ2xpY2sgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkUGhvdG8xID09IG51bGwgfHwgdGhpcy5pZHBob3RvMiA9PSBudWxsIHx8IHRoaXMuc2VsZmllUGhvdG8gPT0gbnVsbCB8fCB0aGlzLmlkUGhvdG8xID09ICcnIHx8IHRoaXMuaWRwaG90bzIgPT0gJycgfHwgdGhpcy5zZWxmaWVQaG90byA9PSAnJyB8fCB0aGlzLmRhdGFJbnB1dC5pZGVudGlmaWNhdGlvbk51bWJlciA9PSBudWxsIHx8IHRoaXMuZGF0YUlucHV0LmlkZW50aWZpY2F0aW9uTnVtYmVyID09ICcnIHx8IHRoaXMuZGF0YUlucHV0Lm5hdGlvbmFsaXR5ID09ICcnIHx8IHRoaXMuZGF0YUlucHV0Lm5hdGlvbmFsaXR5ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gdGhpcy4kdCgnc2V0dGluZ2t5Yy52YWxpZGF0ZVBob3RvJyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzOC5pc1N0b3BEYkNsaWNrID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy51cGRhdGVQcm9maWxlKCkKICAgICAgICAgICAgICAgICAgcGFyYW1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnVwZGF0ZVVzZXIpLCB7fSwgewogICAgICAgICAgICAgICAgICAgIGlkUGhvdG8xOiB0aGlzLmlkUGhvdG8xLAogICAgICAgICAgICAgICAgICAgIGlkUGhvdG8yOiB0aGlzLmlkcGhvdG8yLAogICAgICAgICAgICAgICAgICAgIHNlbGZpZVBob3RvOiB0aGlzLnNlbGZpZVBob3RvLAogICAgICAgICAgICAgICAgICAgIG5hdGlvbmFsaXR5OiB0aGlzLmRhdGFJbnB1dC5uYXRpb25hbGl0eSwKICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWNhdGlvblR5cGU6IHRoaXMuZGF0YUlucHV0LmlkY2FyZCwKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuZGF0YUlucHV0LnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMuZGF0YUlucHV0LmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogdGhpcy5kYXRhSW5wdXQubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgcm90YXRlU2VsZmllUGhvdG86ICJyb3RhdGUoIi5jb25jYXQodGhpcy5yb3RhdGVEZWdbMl0sICJkZWcpIiksCiAgICAgICAgICAgICAgICAgICAgcm90YXRlUGhvdG8yOiAicm90YXRlKCIuY29uY2F0KHRoaXMucm90YXRlRGVnWzFdLCAiZGVnKSIpLAogICAgICAgICAgICAgICAgICAgIHJvdGF0ZVBob3RvMTogInJvdGF0ZSgiLmNvbmNhdCh0aGlzLnJvdGF0ZURlZ1swXSwgImRlZykiKSwKICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWNhdGlvbk51bWJlcjogdGhpcy5kYXRhSW5wdXQuaWRlbnRpZmljYXRpb25OdW1iZXIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIChfdGhpcyRhcGk2ID0gdGhpcy5hcGkpID09PSBudWxsIHx8IF90aGlzJGFwaTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFwaTYuQ3JlYXRlRGF0YUt5YyhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IF90aGlzOC4kdCgnc2V0dGluZ2t5Yy51cGRhdGVTdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5zdWNjZXNzKG1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczguc3RhdHVzS3ljID09ICdQRU5ESU5HJzsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5pc1N0b3BEYkNsaWNrID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7IC8vIHRoaXMudXBkYXRlUHJvZmlsZSgpCgogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmdldFVzZXIoKTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGVycm9yLmVycm9yQ29kZSA9PT0gNTAwICYmIGVycm9yLm1lc3NhZ2UgPT09ICdNw6MgY2jGsMahbmcgdHLDrG5oIMSRw6MgdOG7k24gdOG6oWknKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgIF90aGlzOC5pc1N0b3BEYkNsaWNrID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlKCkgewogICAgICAgIHJldHVybiBfaGFuZGxlQ3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVDcmVhdGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVQcm9maWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKCkgewogICAgICB2YXIgX3RoaXMkYXBpNzsKCiAgICAgIGRlbGV0ZSB0aGlzLnVwZGF0ZVVzZXIucm9sZXM7CgogICAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmRhdGFEZXRhaWxQcm9maWxlKSwge30sIHsKICAgICAgICBuYXRpb25hbGl0eTogdGhpcy5kYXRhSW5wdXQubmF0aW9uYWxpdHkKICAgICAgfSk7CgogICAgICBjb25zb2xlLmxvZygncGFyYW1zJywgcGFyYW1zKTsKICAgICAgKF90aGlzJGFwaTcgPSB0aGlzLmFwaSkgPT09IG51bGwgfHwgX3RoaXMkYXBpNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYXBpNy51cGRhdGVQcm9maWxlKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSAvLyBmdW5jdGlvbiByb3RhdGUgaW1hZ2UKCiAgfSwgewogICAga2V5OiAicm90YXRlUmlnaHRJbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlUmlnaHRJbWFnZShpZCkgewogICAgICBpZiAodGhpcy5yb3RhdGVEZWdbaWRdIDwgMjcwKSB7CiAgICAgICAgdGhpcy5yb3RhdGVEZWdbaWRdICs9IDkwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucm90YXRlRGVnW2lkXSA9IDA7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB0aGlzLmFwaSA9IGdldFJlcG9zaXRvcnkoJ3NldHRpbmcnKTsKICAgICAgdGhpcy5hcGlVcGxvYWQgPSBnZXRSZXBvc2l0b3J5KCd1cGxvYWQnKTsKICAgICAgdGhpcy5hcGlBdXRoID0gZ2V0UmVwb3NpdG9yeSgnYXV0aCcpOwogICAgfQogIH0sIHsKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuZ2V0VXNlcigpOwogICAgICB0aGlzLmdldHByb0ZpbGUoKTsgLy8gdGhpcy5mb3JtID0geyAuLi50aGlzLnVzZXIgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJsS3ljOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtiZUJhc2UuU3RhdGUoJ2NvaW5NYWluJyldLCBCbEt5Yy5wcm90b3R5cGUsICJjb2luTWFpbiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtXYXRjaCgnZGF0YUlucHV0LmlkY2FyZCcsIHsKICBpbW1lZGlhdGU6IGZhbHNlCn0pXSwgQmxLeWMucHJvdG90eXBlLCAiY2hhbmdlIiwgbnVsbCk7CgpCbEt5YyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudF0sIEJsS3ljKTsKZXhwb3J0IGRlZmF1bHQgQmxLeWM7"},{"version":3,"sources":["D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\view\\Kyc.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport getRepository from '@/services'\nimport { SettingRepository } from '@/services/repositories/setting'\nimport UploadRepository from '@/services/repositories/upload'\nimport { AuthRepository } from '@/services/repositories/auth'\nimport filter from 'lodash/filter'\nimport trim from 'lodash/trim'\nimport includes from 'lodash/includes'\n\nimport countryJson from '@/utils/country/index.json'\nimport ParamsRepository from '@/services/repositories/params'\n\nconst apiParams: ParamsRepository = getRepository('params')\nconst api: SettingRepository = getRepository('setting')\n// import UserRepository from '@/services/repositories/user'\nimport { namespace } from 'vuex-class'\n\nconst beBase = namespace('beBase')\n// const apiAuth: AuthRepository = getRepository('auth')\n\nimport findIndex from 'lodash/findIndex'\n\ninterface IListCountry {\n  name: string\n  dial_code: string\n  code: string\n}\n\n@Component\nexport default class BlKyc extends Vue {\n  // @bcAuth.Action('getInfo') getInfo!: () => void\n  @beBase.State('coinMain') coinMain!: string\n\n  api?: SettingRepository\n  apiUpload!: UploadRepository\n  apiAuth!: AuthRepository\n  // apiUser?: UserRepository\n  statusKyc = ''\n  // loading = true\n  linkFake = 'https://avi.edu.vn/wp-content/uploads/2019/11/london-2393098.jpg'\n  dataInput = {\n    idcard: 'ID_CARD',\n    firstName: '',\n    lastName: '',\n    nation: '',\n    idNuidentificationNumbermber: '',\n    nationality: '',\n    identificationNumber: '',\n    userId: '',\n    userGroupId: '',\n    kycRejectReasons: ''\n  }\n  disable = false\n  listCountry: IListCountry[] = countryJson\n  isUpload: any = false\n  file: any\n  public loading = false\n  idPhoto1 = ''\n  idphoto2 = ''\n  selfiePhoto = ''\n  link1 = ''\n  isCard = false\n  isPassport = false\n  isSuccess = false\n  fileList: any = []\n  fileList2: any = []\n  fileList3: any = []\n  srcList: any = ['https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg']\n  data: Array<Record<string, any>> = []\n  dataDetail: Record<string, any> = {}\n  dataUpdate: Record<string, any> = {\n    identificationType: '',\n    userId: '',\n    firstName: '',\n    lastName: '',\n    identificationNumber: '',\n    nationality: '',\n    idPhoto1: '',\n    idPhoto2: '',\n    selfiePhoto: ''\n  }\n  isClose = false\n  isStopDbClick = false\n\n  listRejectReason: Record<string, any>[] = []\n\n  listLevel: Record<string, any>[] = []\n  currentLevel: Record<string, any> = {}\n\n  rules: Record<string, any> = {\n    identificationNumber: [\n      {\n        required: true,\n        message: this.$t('settingkyc.wrongidNumber'),\n        trigger: 'blur'\n      }\n    ],\n    nationality: [\n      {\n        required: true,\n        message: this.$t('settingkyc.wrongidNumber'),\n        trigger: 'blur'\n      }\n    ]\n  }\n\n  get getLevelCurrent(): string {\n    const name = this.currentLevel?.groupName || '0'\n    return name.match(/\\d+/)[0]\n  }\n\n  get getNextLevelTotaltrade(): string {\n    const index = findIndex(this.listLevel, elm => elm.id === this.currentLevel.id)\n    return this.$options.filters?.formatNumber(this.listLevel[index + 1].totalTrade)\n  }\n\n  get getCurrentLevelDepositLimit(): any {\n    if (!this.currentLevel.dopositLimit) {\n      return this.$t('settingkyc.unlimited')\n    }\n    return '$' + this.$options.filters?.formatNumber(this.currentLevel.dopositLimit) + this.$t('settingkyc.day')\n  }\n\n  get isMaxLevel(): boolean {\n    const index = findIndex(this.listLevel, elm => elm.id === this.currentLevel.id)\n    return index === this.listLevel.length - 1\n  }\n\n  @Watch('dataInput.idcard', { immediate: false })\n  change(type: string): void {\n    if (type === this.dataDetail.identificationType) {\n      this.fileList = []\n      this.fileList2 = []\n      this.fileList3 = []\n      this.dataInput.identificationNumber = this.dataDetail.identificationNumber\n      this.dataInput.nationality = this.dataDetail.nationality\n      this.idPhoto1 = this.dataDetail.idPhoto1\n      this.idphoto2 = this.dataDetail.idPhoto2\n      this.selfiePhoto = this.dataDetail.selfiePhoto\n    } else {\n      this.fileList = []\n      this.fileList2 = []\n      this.fileList3 = []\n      this.idPhoto1 = ''\n      this.idphoto2 = ''\n      this.selfiePhoto = ''\n      this.dataInput.identificationNumber = ''\n    }\n  }\n\n  handleclose(): void {\n    this.isClose = true\n  }\n\n  HandleReset(): void {\n    if (this.statusKyc == 'REJECTED') {\n      this.checkStatusKyc()\n    } else {\n      this.fileList = []\n      this.fileList2 = []\n      this.fileList3 = []\n      this.idphoto2 = ''\n      this.idPhoto1 = ''\n      this.selfiePhoto = ''\n      this.dataInput.identificationNumber = ''\n      this.dataInput.idcard = 'ID_CARD'\n    }\n  }\n\n  remoteCountry(query: string): void {\n    if (query) {\n      this.listCountry = filter(\n        countryJson,\n        country => trim(country.code).toUpperCase().includes(query.toUpperCase()) || trim(country.name).toUpperCase().includes(query.toUpperCase())\n      )\n      // if (currentCountry.length > 0) {\n      //   this.listCountry = currentCountry\n      // }\n    } else if (!query) {\n      this.listCountry = countryJson\n    }\n  }\n\n  HandleVerify(): void {\n    this.isSuccess = true\n  }\n\n  changeLevel(): void {\n    this.$router.push({ name: 'Quota' })\n  }\n\n  onlyNumber(event: KeyboardEvent): void {\n    let keyCode = event.keyCode ? event.keyCode : event.which\n    //if ((keyCode < 48 || keyCode > 57) && keyCode !== 46) {\n    // 46 is dot\n    if ((keyCode < 48 || keyCode > 57) && keyCode !== 46) {\n      event.preventDefault()\n    }\n    if (keyCode === 46 && includes(this.dataInput.idNuidentificationNumbermber, '.')) {\n      event.preventDefault()\n    }\n  }\n\n  // start upload img1\n  async handleChangeFile(file: Record<string, any>): Promise<void> {\n    // console.log(file)\n\n    if (this.idPhoto1 || this.fileList.length > 0) {\n      this.handleRemove()\n    }\n    // this.handleRemove(file)\n    // eslint-disable-next-line no-constant-condition\n    const formData = new FormData()\n    if (file.status === 'ready') {\n      file.type = file.raw.type\n      // file = {\n      //   ...file,\n      //   load:\n      // }\n      // const newFile: Record<string, any> = {}\n      // newFile.name = file.name\n      // newFile.size = file.raw.size\n      this.fileList.push(file)\n      formData.append('files', file.raw)\n      formData.append('userId', this.dataInput.userId)\n      formData.append('type', this.dataInput.idcard)\n      // formData.append('name', file.name)\n      file.percentage = 1\n      const processFunction = function (progressEvent: any) {\n        let progress = (progressEvent.loaded / progressEvent.total) * 100\n        file.percentage = progress\n      }\n      const data: Record<string, any> = {}\n      data.data = formData\n      // ;(data.type = 'clgt'), (data.userId = 1)\n      data.progress = processFunction\n      const uid = file.uid\n      const result: any = await this.apiUpload.uploadFile(data)\n\n      this.idPhoto1 = result.success[0].url\n      // th\n      const index = findIndex(this.fileList, (item: Record<string, any>) => item.uid === uid)\n      this.fileList[index].url = result.success[0].url\n      this.isUpload = true\n      // this.file.url = URL.createObjectURL(file.raw)\n    }\n    this.resetRotate(0)\n    this.$forceUpdate()\n  }\n\n  //end unload img 1\n\n  // start upload img 2\n  async handleChangeFile2(file: Record<string, any>): Promise<void> {\n    const formData = new FormData()\n    if (file.status === 'ready') {\n      file.type = file.raw.type\n      // file = {\n      //   ...file,\n      //   load:\n      // }\n      // const newFile: Record<string, any> = {}\n      // newFile.name = file.name\n      // newFile.size = file.raw.size\n      this.fileList2.push(file)\n      formData.append('files', file.raw)\n      formData.append('userId', this.dataInput.userId)\n      formData.append('type', this.dataInput.idcard)\n      // formData.append('name', file.name)\n      file.percentage = 1\n      const processFunction = function (progressEvent: any) {\n        let progress = (progressEvent.loaded / progressEvent.total) * 100\n        file.percentage = progress\n      }\n      const data: Record<string, any> = {}\n      data.data = formData\n      // ;(data.type = 'clgt'), (data.userId = 1)\n      data.progress = processFunction\n      const uid = file.uid\n      const result: any = await this.apiUpload.uploadFile(data)\n      this.idphoto2 = result.success[0].url\n      const index = findIndex(this.fileList2, (item: Record<string, any>) => item.uid === uid)\n      this.fileList2[index].url = result.success[0].url\n    }\n    this.resetRotate(1)\n    this.$forceUpdate()\n  }\n\n  resetRotate(id: number): void {\n    this.rotateDeg[id] = 0\n  }\n\n  //end upload img 2\n  async handleChange(): Promise<void> {\n    if (this.isStopDbClick) {\n      return\n    }\n    this.isStopDbClick = true\n    if (\n      this.idPhoto1 == null ||\n      this.idphoto2 == null ||\n      this.selfiePhoto == null ||\n      this.idPhoto1 == '' ||\n      this.idphoto2 == '' ||\n      this.selfiePhoto == '' ||\n      this.dataInput.identificationNumber == null ||\n      this.dataInput.identificationNumber == ''\n    ) {\n      let message: any = ''\n      message = this.$t('settingkyc.validatePhoto')\n      this.$message.error({ message, duration: 5000 })\n      setTimeout(() => {\n        this.isStopDbClick = false\n      }, 1000)\n    } else {\n      const params = {\n        identificationType: this.dataInput.idcard,\n        userId: this.dataInput.userId,\n        firstName: this.dataInput.firstName,\n        lastName: this.dataInput.lastName,\n        identificationNumber: this.dataInput.identificationNumber,\n        nationality: this.dataInput.nationality,\n        idPhoto1: this.idPhoto1,\n        idPhoto2: this.idphoto2,\n        selfiePhoto: this.selfiePhoto,\n        rotateSelfiePhoto: `rotate(${this.rotateDeg[2]}deg)`,\n        rotatePhoto2: `rotate(${this.rotateDeg[1]}deg)`,\n        rotatePhoto1: `rotate(${this.rotateDeg[0]}deg)`\n      }\n      const formData = new FormData()\n      this.loading = true\n      formData.append('file', this.file)\n      if (this.file) {\n        await this.api\n          ?.updateKyc(params)\n          .then(res => {\n            this.dataDetail = res\n            this.$message.success('Lu thnh cng')\n            setTimeout(() => {\n              this.isStopDbClick = false\n            }, 1000)\n          })\n          .catch(() => {\n            // this.form.avatar = this.user.avatar\n            this.isStopDbClick = false\n            this.$message.warning('Lu tht bi')\n          })\n      }\n      //update reject\n      if (this.statusKyc === 'REJECTED') {\n        // console.log('data', this.dataInput)\n\n        // await this.updateProfile()\n        const data = {\n          // ...this.dataInput,\n          ...this.updateUser,\n          ...this.dataInput,\n          idPhoto1: this.idPhoto1,\n          idPhoto2: this.idphoto2,\n          selfiePhoto: this.selfiePhoto,\n          identificationNumber: this.dataInput.identificationNumber,\n          identificationType: this.dataInput.idcard,\n          nationality: this.dataInput.nationality,\n          rotateSelfiePhoto: `rotate(${this.rotateDeg[2]}deg)`,\n          rotatePhoto2: `rotate(${this.rotateDeg[1]}deg)`,\n          rotatePhoto1: `rotate(${this.rotateDeg[0]}deg)`\n        }\n        this.api\n          ?.updateKycReject(data)\n          .then(() => {\n            this.statusKyc = 'PENDING'\n            setTimeout(() => {\n              this.isStopDbClick = false\n            }, 1000)\n          })\n          .catch(() => {\n            this.isStopDbClick = false\n          })\n      }\n      this.loading = false\n      this.isUpload = false\n    }\n  }\n\n  //start upload3\n  async handleChangeFile3(file: Record<string, any>): Promise<void> {\n    const formData = new FormData()\n    if (file.status === 'ready') {\n      file.type = file.raw.type\n      this.fileList3.push(file)\n      formData.append('files', file.raw)\n      formData.append('userId', this.dataInput.userId)\n      formData.append('type', this.dataInput.idcard)\n      // formData.append('name', file.name)\n      file.percentage = 1\n      const processFunction = function (progressEvent: any) {\n        let progress = (progressEvent.loaded / progressEvent.total) * 100\n        file.percentage = progress\n      }\n      const data: Record<string, any> = {}\n      data.data = formData\n      // ;(data.type = 'clgt'), (data.userId = 1)\n      data.progress = processFunction\n      const uid = file.uid\n      const result: any = await this.apiUpload.uploadFile(data)\n      this.selfiePhoto = result.success[0].url\n      const index = findIndex(this.fileList3, (item: Record<string, any>) => item.uid === uid)\n      this.fileList3[index].url = result.success[0].url\n    }\n    this.resetRotate(2)\n    this.$forceUpdate()\n  }\n\n  handleRemove(): void {\n    this.idPhoto1 = ''\n    this.fileList = []\n  }\n\n  handleRemove2(): void {\n    this.idphoto2 = ''\n    this.fileList = []\n  }\n\n  handleRemove3(): void {\n    this.selfiePhoto = ''\n    this.fileList = []\n  }\n\n  // end upload 3\n  updateUser: Record<string, any> = {}\n\n  getUser(): void {\n    this.apiAuth\n      ?.getInfo()\n      .then((res: any) => {\n        this.dataInput = {\n          ...this.dataInput,\n          ...res\n        }\n        this.updateUser = res\n        // this.query.total = res.data\n        this.checkStatusKyc()\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  photo1 = ''\n\n  async checkStatusKyc(): Promise<void> {\n    const param = {\n      userId: this.dataInput.userId\n    }\n    const result = await this.api?.checkStatusKyc(param)\n    this.statusKyc = result.data\n    if (this.statusKyc == 'REJECTED') {\n      const typeReject = await apiParams.getTypeReject({ type: 'KYC_REJECT_REASON' })\n\n      const result = await this.api?.getDetailKyc(this.dataInput.userId)\n\n      this.dataDetail = result.data\n      this.idPhoto1 = this.dataDetail.idPhoto1\n      this.idphoto2 = this.dataDetail.idPhoto2\n      this.selfiePhoto = this.dataDetail.selfiePhoto\n      this.dataInput.idcard = result.data.identificationType\n      this.dataInput = { ...this.dataInput, ...this.dataDetail }\n      this.rotateDeg = {\n        0: parseInt(this.dataDetail.rotatePhoto1.replace(/[^0-9]/g, '')),\n        1: parseInt(this.dataDetail.rotatePhoto2.replace(/[^0-9]/g, '')),\n        2: parseInt(this.dataDetail.rotateSelfiePhoto.replace(/[^0-9]/g, ''))\n      }\n\n      const arrReasonIds = this.dataDetail.kycRejectReasonIds.split(',')\n      this.listRejectReason = arrReasonIds.reduce((prev: any, cur) => {\n        const value = filter(typeReject.content, elm => elm.id == cur)[0]\n        prev.push(value)\n        return prev\n      }, [])\n    }\n    if (this.statusKyc === 'VERIFIED') {\n      this.api?.limitDetails().then(res => {\n        this.listLevel = res\n        this.currentLevel = filter(this.listLevel, level => level.id === this.dataInput.userGroupId)[0]\n      })\n    }\n  }\n\n  dataKYC = {\n    type: this.dataInput.idcard,\n    // rfrId= this.dataUser.rfrId,\n    // firstName= this.dataUser.firstName,\n    // lastName= this.dataUser.lastName,\n    identificationNumber: '',\n    nationality: '',\n    idPhoto1: '',\n    idPhoto2: '',\n    selfiePhoto: ''\n  }\n  countryCode = ''\n  country = ''\n  dataDetailProfile: any = {}\n\n  async getproFile(): Promise<void> {\n    await api.getProfile().then((res: any) => {\n      this.dataDetailProfile = res.data\n      this.country = res.data.country\n      this.countryCode = res.data.countryCode\n    })\n  }\n\n  async handleCreate(): Promise<any> {\n    if (this.isStopDbClick) {\n      return\n    }\n    this.isStopDbClick = true\n    if (\n      this.idPhoto1 == null ||\n      this.idphoto2 == null ||\n      this.selfiePhoto == null ||\n      this.idPhoto1 == '' ||\n      this.idphoto2 == '' ||\n      this.selfiePhoto == '' ||\n      this.dataInput.identificationNumber == null ||\n      this.dataInput.identificationNumber == '' ||\n      this.dataInput.nationality == '' ||\n      this.dataInput.nationality == null\n    ) {\n      let message: any = ''\n      message = this.$t('settingkyc.validatePhoto')\n      this.$message.error({ message, duration: 5000 })\n      setTimeout(() => {\n        this.isStopDbClick = false\n      }, 1000)\n    } else {\n      // await this.updateProfile()\n      const params = {\n        // nationality: this.dataInput.nationality,\n        ...this.updateUser,\n        idPhoto1: this.idPhoto1,\n        idPhoto2: this.idphoto2,\n        selfiePhoto: this.selfiePhoto,\n        nationality: this.dataInput.nationality,\n        identificationType: this.dataInput.idcard,\n        userId: this.dataInput.userId,\n        firstName: this.dataInput.firstName,\n        lastName: this.dataInput.lastName,\n        rotateSelfiePhoto: `rotate(${this.rotateDeg[2]}deg)`,\n        rotatePhoto2: `rotate(${this.rotateDeg[1]}deg)`,\n        rotatePhoto1: `rotate(${this.rotateDeg[0]}deg)`,\n        identificationNumber: this.dataInput.identificationNumber\n      }\n      this.api\n        ?.CreateDataKyc(params)\n        .then(() => {\n          let message: any = ''\n          message = this.$t('settingkyc.updateSuccess')\n          this.$message.success(message)\n          this.statusKyc == 'PENDING'\n          setTimeout(() => {\n            this.isStopDbClick = false\n          }, 1000)\n          // this.updateProfile()\n          setTimeout(() => {\n            this.getUser()\n          }, 1000)\n        })\n        .catch(error => {\n          // if (error.errorCode === 500 && error.message === 'M chng trnh  tn ti') {\n          //   this.$message.error(error.message)\n          // }\n          this.isStopDbClick = false\n          console.log(error)\n        })\n    }\n  }\n\n  form: Record<string, any> = {\n    email: '',\n    firstName: '',\n    lastName: '',\n    confirm: false,\n    id: '',\n    avatar: '',\n    displayName: '',\n    birthday: '',\n    address: '',\n    cityName: '',\n    stateName: '',\n    country: '',\n    nationality: ''\n  }\n\n  updateProfile(): void {\n    delete this.updateUser.roles\n    const params = {\n      // email: this.updateUser.email,\n      // firstName: this.dataInput.firstName,\n      // lastName: this.dataInput.lastName,\n      // confirm: false,\n      // id: this.updateUser.userId,\n      // avatar: this.updateUser.avatar,\n      // displayName: this.updateUser.displayName,\n      // birthday: '',\n      // address: this.updateUser.address,\n      // cityName: this.updateUser.cityName,\n      // stateName: this.updateUser.stateName,\n      // country: this.country,\n      // countryCode: this.countryCode,\n      ...this.dataDetailProfile,\n      nationality: this.dataInput.nationality\n    }\n    console.log('params', params)\n    this.api\n      ?.updateProfile(params)\n      .then(res => {\n        console.log(res)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  //rotate image 0:idPhoto1,1:idPhoto2,2:idPhotoSelfie\n  rotateDeg = {\n    0: 0,\n    1: 0,\n    2: 0\n  }\n\n  // function rotate image\n  rotateRightImage(id: number): void {\n    if (this.rotateDeg[id] < 270) {\n      this.rotateDeg[id] += 90\n    } else {\n      this.rotateDeg[id] = 0\n    }\n  }\n\n  created(): void {\n    this.api = getRepository('setting')\n    this.apiUpload = getRepository('upload')\n    this.apiAuth = getRepository('auth')\n  }\n\n  mounted(): void {\n    this.getUser()\n    this.getproFile()\n    // this.form = { ...this.user }\n  }\n}\n"],"sourceRoot":""}]}