{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\NEU\\CDTT\\frontend\\Website\\src\\services\\repositories\\nft\\index.ts","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\services\\repositories\\nft\\index.ts","mtime":1660970151766},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\babel.config.js","mtime":1660970148265},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\eslint-loader\\index.js","mtime":1660970366946}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOlxcTkVVXFxDRFRUXFxmcm9udGVuZFxcV2Vic2l0ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVTdXBlci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC9wbHVnaW5zL3JlcXVlc3QnOwppbXBvcnQgeyBCYXNlUmVwb3NpdG9yeSB9IGZyb20gJ0Avc2VydmljZXMvYmFzZSc7CmltcG9ydCBmb3JFYWNoIGZyb20gJ2xvZGFzaC9mb3JFYWNoJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCnZhciBOZnRSZXBvc2l0b3J5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZVJlcG9zaXRvcnkpIHsKICBfaW5oZXJpdHMoTmZ0UmVwb3NpdG9yeSwgX0Jhc2VSZXBvc2l0b3J5KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOZnRSZXBvc2l0b3J5KTsKCiAgZnVuY3Rpb24gTmZ0UmVwb3NpdG9yeSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZnRSZXBvc2l0b3J5KTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgJ25mdC9hcGkvdjEnKTsKICB9CgogIF9jcmVhdGVDbGFzcyhOZnRSZXBvc2l0b3J5LCBbewogICAga2V5OiAiZ2V0TGlzdENhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TGlzdENhdGVnb3J5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvY2F0ZWdvcnkvbGlzdCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdC5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRMaXN0Q2F0ZWdvcnkoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMaXN0Q2F0ZWdvcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldExpc3RDYXRlZ29yeUZpbHRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExpc3RDYXRlZ29yeUZpbHRlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9jYXRlZ29yeS9maWx0ZXIiKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdC5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TGlzdENhdGVnb3J5RmlsdGVyKCkgewogICAgICAgIHJldHVybiBfZ2V0TGlzdENhdGVnb3J5RmlsdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRMaXN0Q2F0ZWdvcnlGaWx0ZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRMaXN0RGV0YWlsQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRMaXN0RGV0YWlsQ2F0ZWdvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHBhcmFtcykgewogICAgICAgIHZhciBvYmpLZXksIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwOwogICAgICAgICAgICAgICAgb2JqS2V5ID0gT2JqZWN0LmtleXMocGFyYW1zKTsKICAgICAgICAgICAgICAgIGZvckVhY2gob2JqS2V5LCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtc1trZXldKTsKCiAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXNba2V5XSA9PT0gJ251bGwnIHx8IHBhcmFtc1trZXldID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXNba2V5XTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2NhdGVnb3J5L2RldGFpbCIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0My50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldExpc3REZXRhaWxDYXRlZ29yeShfeCkgewogICAgICAgIHJldHVybiBfZ2V0TGlzdERldGFpbENhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRMaXN0RGV0YWlsQ2F0ZWdvcnk7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXREZXRhaWxDb2xsZWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RGV0YWlsQ29sbGVjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaWQpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2NvbGxlY3Rpb24vIikuY29uY2F0KGlkLCAiL2RldGFpbCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0NC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldERldGFpbENvbGxlY3Rpb24oX3gyKSB7CiAgICAgICAgcmV0dXJuIF9nZXREZXRhaWxDb2xsZWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXREZXRhaWxDb2xsZWN0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0RGV0YWlsTXlwcm9maWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RGV0YWlsTXlwcm9maWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShpZCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWNjb3VudElkLyIpLmNvbmNhdChpZCwgIi9saXN0LWl0ZW0iKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDUudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREZXRhaWxNeXByb2ZpbGUoX3gzKSB7CiAgICAgICAgcmV0dXJuIF9nZXREZXRhaWxNeXByb2ZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERldGFpbE15cHJvZmlsZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldERldGFpbE5mdEl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXREZXRhaWxOZnRJdGVtID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihpZCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvaXRlbS8iKS5jb25jYXQoaWQsICIvZGV0YWlsIikpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQ2LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0RGV0YWlsTmZ0SXRlbShfeDQpIHsKICAgICAgICByZXR1cm4gX2dldERldGFpbE5mdEl0ZW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERldGFpbE5mdEl0ZW07CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTeXN0ZW1wYXJhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFN5c3RlbXBhcmFtID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL3N5c3RlbS1wYXJhbS9saXN0IiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDdbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQ3LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U3lzdGVtcGFyYW0oX3g1KSB7CiAgICAgICAgcmV0dXJuIF9nZXRTeXN0ZW1wYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U3lzdGVtcGFyYW07CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRJdGVtUmVsYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEl0ZW1SZWxhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChpZCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvaXRlbS8iKS5jb25jYXQoaWQsICIvcmVsYXRlZCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0OC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEl0ZW1SZWxhdGVkKF94NikgewogICAgICAgIHJldHVybiBfZ2V0SXRlbVJlbGF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEl0ZW1SZWxhdGVkOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TGlzdEl0ZW1JbkNvbGxlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRMaXN0SXRlbUluQ29sbGVjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocGFyYW1zKSB7CiAgICAgICAgdmFyIG9iaktleSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDA7CiAgICAgICAgICAgICAgICBvYmpLZXkgPSBPYmplY3Qua2V5cyhwYXJhbXMpOwogICAgICAgICAgICAgICAgZm9yRWFjaChvYmpLZXksIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtc1trZXldID09PSAnbnVsbCcgfHwgcGFyYW1zW2tleV0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtc1trZXldOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmlzVmVyaWZpZWQgJiYgcGFyYW1zLmlzVmVyaWZpZWQgPT09ICdhbGwnKSB7CiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXMuaXNWZXJpZmllZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnN0YXR1c1NhbGUgJiYgcGFyYW1zLnN0YXR1c1NhbGUgPT09ICdhbGwnKSB7CiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXMuc3RhdHVzU2FsZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLnR5cGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vbGlzdCIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQ5LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMsIFtbMCwgMTJdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldExpc3RJdGVtSW5Db2xsZWN0aW9uKF94NykgewogICAgICAgIHJldHVybiBfZ2V0TGlzdEl0ZW1JbkNvbGxlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RJdGVtSW5Db2xsZWN0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TGlzdERhdGFQcm9maWxlTmZ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TGlzdERhdGFQcm9maWxlTmZ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoYWNjb3VudElkLCBwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0LCBvYmpLZXk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAwOwogICAgICAgICAgICAgICAgcmVzdWx0ID0ge307CiAgICAgICAgICAgICAgICBvYmpLZXkgPSBPYmplY3Qua2V5cyhwYXJhbXMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cob2JqS2V5KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7CiAgICAgICAgICAgICAgICBmb3JFYWNoKG9iaktleSwgZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgICAgICBpZiAocGFyYW1zW2tleV0gPT09ICcnIHx8IHBhcmFtc1trZXldID09PSAnbnVsbCcgfHwgcGFyYW1zW2tleV0gPT09ICd1bmRlZmluZWQnIHx8IHBhcmFtc1trZXldID09PSAnTmFOJykgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXNba2V5XTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEocGFyYW1zLmxpc3RUeXBlICYmIHBhcmFtcy5saXN0VHlwZSA9PT0gJ0NvbGxlY3Rpb25zJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2FjY291bnQvIikuY29uY2F0KGFjY291bnRJZCwgIi9saXN0LWNvbGxlY3Rpb24iKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBsaXN0Q29sbGVjdGlvblR5cGU6IHBhcmFtcy5saXN0SXRlbVR5cGUsCiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW1UeXBlOiBudWxsCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9hY2NvdW50LyIpLmNvbmNhdChhY2NvdW50SWQsICIvbGlzdC1pdGVtIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQxMC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMsIFtbMCwgMThdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldExpc3REYXRhUHJvZmlsZU5mdChfeDgsIF94OSkgewogICAgICAgIHJldHVybiBfZ2V0TGlzdERhdGFQcm9maWxlTmZ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRMaXN0RGF0YVByb2ZpbGVOZnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRMaXN0Q29sbGVjdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExpc3RDb2xsZWN0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jYXRlZ29yeUlkID09PSAtMSkgewogICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmNhdGVnb3J5SWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvY29sbGVjdGlvbi9saXN0IiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQxMS50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMsIFtbMCwgOF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TGlzdENvbGxlY3Rpb24oX3gxMCkgewogICAgICAgIHJldHVybiBfZ2V0TGlzdENvbGxlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RDb2xsZWN0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TGlzdFNsaWRlQmFubmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TGlzdFNsaWRlQmFubmVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9ob21lL2xpc3QtcmVtYXJrYWJsZSIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MTIudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldExpc3RTbGlkZUJhbm5lcihfeDExKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMaXN0U2xpZGVCYW5uZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RTbGlkZUJhbm5lcjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldExpc3RBY3Rpdml0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExpc3RBY3Rpdml0eSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWN0aXZpdHkvbGlzdCIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IF9jb250ZXh0MTNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MTMudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldExpc3RBY3Rpdml0eShfeDEyKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMaXN0QWN0aXZpdHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RBY3Rpdml0eTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldExpc3RBY3Rpdml0eVByb2ZpbGVOZnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRMaXN0QWN0aXZpdHlQcm9maWxlTmZ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoYWNjb3VudElkLCBwYXJhbXMpIHsKICAgICAgICB2YXIgb2JqS2V5LCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgb2JqS2V5ID0gT2JqZWN0LmtleXMocGFyYW1zKTsKICAgICAgICAgICAgICAgIGZvckVhY2gob2JqS2V5LCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXNba2V5XSA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zW2tleV07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWN0aXZpdGllcy8iKS5jb25jYXQoYWNjb3VudElkKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDE0LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcywgW1swLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRMaXN0QWN0aXZpdHlQcm9maWxlTmZ0KF94MTMsIF94MTQpIHsKICAgICAgICByZXR1cm4gX2dldExpc3RBY3Rpdml0eVByb2ZpbGVOZnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RBY3Rpdml0eVByb2ZpbGVOZnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRDb2xsZWN0aW9uQWNjb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldENvbGxlY3Rpb25BY2NvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoYWNjb3VudElkLCBwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2FjY291bnQvIikuY29uY2F0KGFjY291bnRJZCwgIi9saXN0LWNvbGxlY3Rpb24iKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDE1LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRDb2xsZWN0aW9uQWNjb3VudChfeDE1LCBfeDE2KSB7CiAgICAgICAgcmV0dXJuIF9nZXRDb2xsZWN0aW9uQWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q29sbGVjdGlvbkFjY291bnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmYXZvdXJpdGVJdGVtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmF2b3VyaXRlSXRlbSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KGRhdGEpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5wb3N0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9hY3Rpdml0eS9mYXZvdXJpdGUiKSwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYudDAgPSBfY29udGV4dDE2WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDE2LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNiwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmYXZvdXJpdGVJdGVtKF94MTcpIHsKICAgICAgICByZXR1cm4gX2Zhdm91cml0ZUl0ZW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhdm91cml0ZUl0ZW07CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRMaXN0T3duZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TGlzdE93bmVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KGlkLCBwYXJhbXMpIHsKICAgICAgICB2YXIgZ2V0Y29udGVudCwKICAgICAgICAgICAgcmVzdWx0LAogICAgICAgICAgICBfYXJnczE3ID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZ2V0Y29udGVudCA9IF9hcmdzMTcubGVuZ3RoID4gMiAmJiBfYXJnczE3WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE3WzJdIDogZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvaXRlbS8iKS5jb25jYXQoaWQsICIvb3duZXJzIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoZ2V0Y29udGVudCA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhLmNvbnRlbnQpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy50MCA9IF9jb250ZXh0MTdbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MTcudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3LCB0aGlzLCBbWzEsIDEwXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRMaXN0T3duZXJzKF94MTgsIF94MTkpIHsKICAgICAgICByZXR1cm4gX2dldExpc3RPd25lcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RPd25lcnM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJidXlOZnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9idXlOZnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOChwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5wb3N0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9idXktbmZ0IiksIF9vYmplY3RTcHJlYWQoe30sIHBhcmFtcykpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhLmNvbnRlbnQpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgudDAgPSBfY29udGV4dDE4WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDE4LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBidXlOZnQoX3gyMCkgewogICAgICAgIHJldHVybiBfYnV5TmZ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBidXlOZnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRMeW5rZXlJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0THlua2V5SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KGN1cnJlbmN5LCBwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2FjdGl2aXR5LyIpLmNvbmNhdChjdXJyZW5jeSwgIi9pbmZvIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDE5LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5LnQwID0gX2NvbnRleHQxOVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQxOS50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTksIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0THlua2V5SW5mbyhfeDIxLCBfeDIyKSB7CiAgICAgICAgcmV0dXJuIF9nZXRMeW5rZXlJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRMeW5rZXlJbmZvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TXlQcm9maWxlTmZ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TXlQcm9maWxlTmZ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9hY2NvdW50L215LWluZm8iKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MjAuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAudDAgPSBfY29udGV4dDIwWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDIwLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRNeVByb2ZpbGVOZnQoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRNeVByb2ZpbGVOZnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldE15UHJvZmlsZU5mdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFVzZXJwcm9maWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0VXNlcnByb2ZpbGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShpZCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWNjb3VudC8iKS5jb25jYXQoaWQsICIvaW5mbyIpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyMS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS50MCA9IF9jb250ZXh0MjFbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MjEudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFVzZXJwcm9maWxlKF94MjMpIHsKICAgICAgICByZXR1cm4gX2dldFVzZXJwcm9maWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRVc2VycHJvZmlsZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEhvdE5mdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEhvdE5mdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvaG9tZS9saXN0LWhvdC1pdGVtIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnQwID0gX2NvbnRleHQyMlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyMi50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0SG90TmZ0KF94MjQpIHsKICAgICAgICByZXR1cm4gX2dldEhvdE5mdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0SG90TmZ0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0VW5pcXVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0VW5pcXVlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9ob21lL2xpc3QtdW5pcXVlIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLnQwID0gX2NvbnRleHQyM1siY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyMy50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0VW5pcXVlKF94MjUpIHsKICAgICAgICByZXR1cm4gX2dldFVuaXF1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0VW5pcXVlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TGlzdEZvbGxvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldExpc3RGb2xsb3cgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNChhY2NvdW50SWQsIHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWNjb3VudC8iKS5jb25jYXQoYWNjb3VudElkLCAiL2ZvbGxvd3MiKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MjQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQudDAgPSBfY29udGV4dDI0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDI0LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRMaXN0Rm9sbG93KF94MjYsIF94MjcpIHsKICAgICAgICByZXR1cm4gX2dldExpc3RGb2xsb3cuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldExpc3RGb2xsb3c7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJhY3Rpb25Gb2xsb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hY3Rpb25Gb2xsb3cgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNShkYXRhKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucG9zdCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvZm9sbG93IiksIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDI1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1LnQwID0gX2NvbnRleHQyNVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyNS50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjUsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWN0aW9uRm9sbG93KF94MjgpIHsKICAgICAgICByZXR1cm4gX2FjdGlvbkZvbGxvdy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWN0aW9uRm9sbG93OwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlU29jaWFsSW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZVNvY2lhbEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjYucHJldiA9IF9jb250ZXh0MjYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucHV0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9hY2NvdW50L3VwZGF0ZS1zb2NpYWwtaW5mbyIpLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyNi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi50MCA9IF9jb250ZXh0MjZbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MjYudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNvY2lhbEluZm8oX3gyOSkgewogICAgICAgIHJldHVybiBfdXBkYXRlU29jaWFsSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlU29jaWFsSW5mbzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwZGF0ZU5mdFByb2ZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVOZnRQcm9maWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoZGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnB1dCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWNjb3VudC91cGRhdGUtbmZ0LXByb2ZpbGUiKSwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mjcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNy5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcudDAgPSBfY29udGV4dDI3WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjcuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDI3LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNywgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVOZnRQcm9maWxlKF94MzApIHsKICAgICAgICByZXR1cm4gX3VwZGF0ZU5mdFByb2ZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZU5mdFByb2ZpbGU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXREZXRhaWxQcm9wZXJ0eSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERldGFpbFByb3BlcnR5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgodHlwZSwgaWQpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOC5wcmV2ID0gX2NvbnRleHQyOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyOC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiLyIpLmNvbmNhdCh0eXBlLCAiL2RldGFpbC8iKS5jb25jYXQoaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyOC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjguYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDI4LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyOC50MCA9IF9jb250ZXh0MjhbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MjgudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI4LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldERldGFpbFByb3BlcnR5KF94MzEsIF94MzIpIHsKICAgICAgICByZXR1cm4gX2dldERldGFpbFByb3BlcnR5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXREZXRhaWxQcm9wZXJ0eTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldENoYW5nZVByaWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0Q2hhbmdlUHJpY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOShjdXJyZW5jeSwgaXRlbUlkKSB7CiAgICAgICAgdmFyIHJzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5nZXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2FjdGl2aXR5LyIpLmNvbmNhdChjdXJyZW5jeSwgIi9pbmZvP2l0ZW1JZD0iKS5jb25jYXQoaXRlbUlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJzID0gX2NvbnRleHQyOS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjkuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocnMuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjkucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDI5LnQwID0gX2NvbnRleHQyOVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQyOS50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjksIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0Q2hhbmdlUHJpY2UoX3gzMywgX3gzNCkgewogICAgICAgIHJldHVybiBfZ2V0Q2hhbmdlUHJpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldENoYW5nZVByaWNlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic2F2ZUNoYW5nZVByaWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2F2ZUNoYW5nZVByaWNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAoaWRJdGVtLCBwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMC5wcmV2ID0gX2NvbnRleHQzMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5wdXQoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vIikuY29uY2F0KGlkSXRlbSwgIi9jaGFuZ2UtcHJpY2UiKSwgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzMC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMwLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzMC50MCA9IF9jb250ZXh0MzBbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MzAudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMwLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmVDaGFuZ2VQcmljZShfeDM1LCBfeDM2KSB7CiAgICAgICAgcmV0dXJuIF9zYXZlQ2hhbmdlUHJpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmVDaGFuZ2VQcmljZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImV4dGVybmFsTG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9leHRlcm5hbExvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEoZGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMSQoX2NvbnRleHQzMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMxLnByZXYgPSBfY29udGV4dDMxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMxLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2FjY291bnQvZXh0ZXJuYWwvbG9naW4iKSwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MzEuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzMS5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzEudDAgPSBfY29udGV4dDMxWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDMxLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMSwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBleHRlcm5hbExvZ2luKF94MzcpIHsKICAgICAgICByZXR1cm4gX2V4dGVybmFsTG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGV4dGVybmFsTG9naW47CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ0cmFuc2Zlck5mdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RyYW5zZmVyTmZ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIoZGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vdHJhbnNmZXIiKSwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MzIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzMi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzIudDAgPSBfY29udGV4dDMyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDMyLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMiwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB0cmFuc2Zlck5mdChfeDM4KSB7CiAgICAgICAgcmV0dXJuIF90cmFuc2Zlck5mdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdHJhbnNmZXJOZnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmaXhlZFByaWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZml4ZWRQcmljZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKGRhdGEpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMy5wcmV2ID0gX2NvbnRleHQzMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMy5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5wb3N0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9pdGVtL2xpc3RpbmciKSwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MzMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzMy5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzMudDAgPSBfY29udGV4dDMzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDMzLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMywgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmaXhlZFByaWNlKF94MzkpIHsKICAgICAgICByZXR1cm4gX2ZpeGVkUHJpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZpeGVkUHJpY2U7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZW1vdmVGcm9tU2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlbW92ZUZyb21TYWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzQoZGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNCQoX2NvbnRleHQzNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM0LnByZXYgPSBfY29udGV4dDM0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDM0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzNC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vdW5saXN0aW5nIiksIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDM0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDM0LnQwID0gX2NvbnRleHQzNFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQzNC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzQsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVNhbGUoX3g0MCkgewogICAgICAgIHJldHVybiBfcmVtb3ZlRnJvbVNhbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlbW92ZUZyb21TYWxlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicGxhY2VBQmlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcGxhY2VBQmlkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM1JChfY29udGV4dDM1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzUucHJldiA9IF9jb250ZXh0MzUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzUucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDM1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucG9zdCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvcGxhY2UtYS1iaWQiKSwgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzNS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDM1LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzNS50MCA9IF9jb250ZXh0MzVbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MzUudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTM1LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBsYWNlQUJpZChfeDQxKSB7CiAgICAgICAgcmV0dXJuIF9wbGFjZUFCaWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBsYWNlQUJpZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEFjY2VwdEJpZE9mZmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0QWNjZXB0QmlkT2ZmZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNihpdGVtSWQsIHBhcmFtcykgewogICAgICAgIHZhciByczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM2JChfY29udGV4dDM2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzYucHJldiA9IF9jb250ZXh0MzYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzYucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDM2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9pdGVtLyIpLmNvbmNhdChpdGVtSWQsICIvbGlzdC1vZmZlciIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcnMgPSBfY29udGV4dDM2LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShycy5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzNi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzYudDAgPSBfY29udGV4dDM2WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDM2LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzNiwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRBY2NlcHRCaWRPZmZlcihfeDQyLCBfeDQzKSB7CiAgICAgICAgcmV0dXJuIF9nZXRBY2NlcHRCaWRPZmZlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QWNjZXB0QmlkT2ZmZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJwb3N0QWNjZXB0QmlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcG9zdEFjY2VwdEJpZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNyQoX2NvbnRleHQzNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM3LnByZXYgPSBfY29udGV4dDM3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDM3LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzNy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2JpZC9hY2NlcHQiKSwgX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mzcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzNy5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzcudDAgPSBfY29udGV4dDM3WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzcuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDM3LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzNywgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBwb3N0QWNjZXB0QmlkKF94NDQpIHsKICAgICAgICByZXR1cm4gX3Bvc3RBY2NlcHRCaWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvc3RBY2NlcHRCaWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJwb3N0VGltZWRBdWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcG9zdFRpbWVkQXVjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM4KHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOCQoX2NvbnRleHQzOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM4LnByZXYgPSBfY29udGV4dDM4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDM4LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzOC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vbGlzdGluZyIpLCBfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzOC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzguYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDM4LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzOC50MCA9IF9jb250ZXh0MzhbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MzgudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTM4LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBvc3RUaW1lZEF1Y3Rpb24oX3g0NSkgewogICAgICAgIHJldHVybiBfcG9zdFRpbWVkQXVjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcG9zdFRpbWVkQXVjdGlvbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInBvc3RPcGVuRm9yQmlkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Bvc3RPcGVuRm9yQmlkcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM5KHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOSQoX2NvbnRleHQzOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM5LnByZXYgPSBfY29udGV4dDM5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDM5LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzOS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2l0ZW0vbGlzdGluZyIpLCBfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzOS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzkuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDM5LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzOS50MCA9IF9jb250ZXh0MzlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzOS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0MzkudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTM5LCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBvc3RPcGVuRm9yQmlkcyhfeDQ2KSB7CiAgICAgICAgcmV0dXJuIF9wb3N0T3BlbkZvckJpZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHBvc3RPcGVuRm9yQmlkczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInBvc3RDb250YWN0TWFya2V0cGxhY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9wb3N0Q29udGFjdE1hcmtldHBsYWNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDAoZGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MCQoX2NvbnRleHQ0MCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQwLnByZXYgPSBfY29udGV4dDQwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQwLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0MC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2NvbnRhY3QvZW1haWwiKSwgX29iamVjdFNwcmVhZCh7fSwgZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDAucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDQwLnQwID0gX2NvbnRleHQ0MFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQwLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQ0MC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNDAsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcG9zdENvbnRhY3RNYXJrZXRwbGFjZShfeDQ3KSB7CiAgICAgICAgcmV0dXJuIF9wb3N0Q29udGFjdE1hcmtldHBsYWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb3N0Q29udGFjdE1hcmtldHBsYWNlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TWFrZU9mZmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TWFrZU9mZmVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDEocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQxJChfY29udGV4dDQxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDEucHJldiA9IF9jb250ZXh0NDEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDEucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDQxLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucG9zdCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvbWFrZS1vZmZlciIpLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQxLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0MS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhLmNvbnRlbnQpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0MS5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NDEudDAgPSBfY29udGV4dDQxWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDEuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDQxLnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0MSwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRNYWtlT2ZmZXIoX3g0OCkgewogICAgICAgIHJldHVybiBfZ2V0TWFrZU9mZmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRNYWtlT2ZmZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRJbmZvRXh0ZXJuYWxVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0SW5mb0V4dGVybmFsVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MiQoX2NvbnRleHQ0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQyLnByZXYgPSBfY29udGV4dDQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvYWNjb3VudC9teS1pbmZvIikpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Mi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Mi50MCA9IF9jb250ZXh0NDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Mi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0NDIudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQyLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEluZm9FeHRlcm5hbFVzZXIoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRJbmZvRXh0ZXJuYWxVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRJbmZvRXh0ZXJuYWxVc2VyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidmFsaWRhdGVBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdmFsaWRhdGVBZGRyZXNzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDMocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQzJChfY29udGV4dDQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDMucHJldiA9IF9jb250ZXh0NDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uYScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmdldCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvdmFsaWRhdGUvYWRkcmVzcyIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUocmVzdWx0LmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0My50MCA9IF9jb250ZXh0NDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0NDMudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQzLCB0aGlzLCBbWzAsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlQWRkcmVzcyhfeDQ5KSB7CiAgICAgICAgcmV0dXJuIF92YWxpZGF0ZUFkZHJlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGlkYXRlQWRkcmVzczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImhhbmRsZUNhbmNlbEJpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZUNhbmNlbEJpZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ0KHBhcmFtcykgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NCQoX2NvbnRleHQ0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQ0LnByZXYgPSBfY29udGV4dDQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQ0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnBvc3QoIiIuY29uY2F0KHRoaXMucHJlZml4LCAiL2JpZC9jYW5jZWwiKSwgX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0NC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NDQudDAgPSBfY29udGV4dDQ0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDQ0LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0NCwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxCaWQoX3g1MCkgewogICAgICAgIHJldHVybiBfaGFuZGxlQ2FuY2VsQmlkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVDYW5jZWxCaWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVDYW5jZWxPZmZlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZUNhbmNlbE9mZmVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDUocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ1JChfY29udGV4dDQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDUucHJldiA9IF9jb250ZXh0NDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDUucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucG9zdCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvY2FuY2VsLW9mZmVyIiksIF9vYmplY3RTcHJlYWQoe30sIHBhcmFtcykpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQ1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0NS5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5kYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDUucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDQ1LnQwID0gX2NvbnRleHQ0NVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ1LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQ0NS50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNDUsIHRoaXMsIFtbMCwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaGFuZGxlQ2FuY2VsT2ZmZXIoX3g1MSkgewogICAgICAgIHJldHVybiBfaGFuZGxlQ2FuY2VsT2ZmZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhhbmRsZUNhbmNlbE9mZmVyOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicG9zdEFjY2VwdE9mZmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcG9zdEFjY2VwdE9mZmVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDYocGFyYW1zKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ2JChfY29udGV4dDQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDYucHJldiA9IF9jb250ZXh0NDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDYucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QucG9zdCgiIi5jb25jYXQodGhpcy5wcmVmaXgsICIvaXRlbS9hY2NlcHQtb2ZmZXIiKSwgX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NDYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ2LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Ni5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NDYudDAgPSBfY29udGV4dDQ2WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDYuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDQ2LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0NiwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBwb3N0QWNjZXB0T2ZmZXIoX3g1MikgewogICAgICAgIHJldHVybiBfcG9zdEFjY2VwdE9mZmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb3N0QWNjZXB0T2ZmZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRBYmlDb250cmFjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEFiaUNvbnRyYWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDcocGFyYW1zLCB0eXBlKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ3JChfY29udGV4dDQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDcucHJldiA9IF9jb250ZXh0NDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDcucHJldiA9IDA7CiAgICAgICAgICAgICAgICByZXN1bHQgPSB7fTsKCiAgICAgICAgICAgICAgICBpZiAoISh0eXBlID09PSAnRVRIJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Ny5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHBzOi8vYXBpLXJvcHN0ZW4uZXRoZXJzY2FuLmlvL2FwaSIsIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQ3Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDQ3Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHBzOi8vYXBpLXRlc3RuZXQuYnNjc2Nhbi5jb20vYXBpIiwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQ3LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ny5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQuZGF0YS5yZXN1bHQpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NDcucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Ny50MCA9IF9jb250ZXh0NDdbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ny5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0NDcudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQ3LCBudWxsLCBbWzAsIDE0XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRBYmlDb250cmFjdChfeDUzLCBfeDU0KSB7CiAgICAgICAgcmV0dXJuIF9nZXRBYmlDb250cmFjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QWJpQ29udHJhY3Q7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZUFwcHJvdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF92YWxpZGF0ZUFwcHJvdmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OChkYXRhLCBwYXJhbXMpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDgkKF9jb250ZXh0NDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0OC5wcmV2ID0gX2NvbnRleHQ0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0OC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5wb3N0KCIiLmNvbmNhdCh0aGlzLnByZWZpeCwgIi9hY2NvdW50L2FwcHJvdmUiKSwgZGF0YSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NDguc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5kYXRhLmRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0OC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NDgudDAgPSBfY29udGV4dDQ4WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDguYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDQ4LnQwKSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0OCwgdGhpcywgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB2YWxpZGF0ZUFwcHJvdmUoX3g1NSwgX3g1NikgewogICAgICAgIHJldHVybiBfdmFsaWRhdGVBcHByb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWxpZGF0ZUFwcHJvdmU7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBOZnRSZXBvc2l0b3J5Owp9KEJhc2VSZXBvc2l0b3J5KTsKCmV4cG9ydCB7IE5mdFJlcG9zaXRvcnkgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\NEU\\CDTT\\frontend\\Website\\src\\services\\repositories\\nft\\index.ts"],"names":[],"mappings":"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","sourcesContent":["import request from '@/plugins/request'\r\nimport { BaseRepository } from '@/services/base'\r\nimport forEach from 'lodash/forEach'\r\nimport axios from 'axios'\r\n\r\nexport default class NftRepository extends BaseRepository {\r\n  constructor() {\r\n    super('nft/api/v1')\r\n  }\r\n\r\n  async getListCategory(): Promise<Array<Record<string, any>>> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/category/list`)\r\n      return result.data.data\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListCategoryFilter(): Promise<Array<Record<string, any>>> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/category/filter`)\r\n      return result.data.data\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListDetailCategory(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const objKey = Object.keys(params)\r\n      forEach(objKey, key => {\r\n        console.log(params[key])\r\n\r\n        if (params[key] === 'null' || params[key] === 'undefined') {\r\n          delete params[key]\r\n        }\r\n      })\r\n\r\n      const result = await request.get(`${this.prefix}/category/detail`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getDetailCollection(id: string): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/collection/${id}/detail`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getDetailMyprofile(id: string): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/accountId/${id}/list-item`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getDetailNftItem(id: string | number): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/item/${id}/detail`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getSystemparam(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/system-param/list`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getItemRelated(id: string): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/item/${id}/related`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListItemInCollection(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const objKey = Object.keys(params)\r\n      forEach(objKey, key => {\r\n        if (params[key] === 'null' || params[key] === 'undefined') {\r\n          delete params[key]\r\n        }\r\n      })\r\n\r\n      if (params.isVerified && params.isVerified === 'all') {\r\n        delete params.isVerified\r\n      }\r\n      if (params.statusSale && params.statusSale === 'all') {\r\n        delete params.statusSale\r\n      }\r\n      delete params.type\r\n\r\n      const result = await request.get(`${this.prefix}/item/list`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListDataProfileNft(accountId: string | number, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      let result: Record<string, any> = {}\r\n      const objKey = Object.keys(params)\r\n      console.log(objKey)\r\n      console.log(params)\r\n      forEach(objKey, key => {\r\n        if (params[key] === '' || params[key] === 'null'|| params[key]==='undefined' || params[key]==='NaN') {\r\n          delete params[key]\r\n        }\r\n      })\r\n      if (params.listType && params.listType === 'Collections') {\r\n        result = await request.get(`${this.prefix}/account/${accountId}/list-collection`, { params: { ...params, listCollectionType: params.listItemType, listItemType: null } })\r\n      } else {\r\n        result = await request.get(`${this.prefix}/account/${accountId}/list-item`, { params })\r\n      }\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getListCollection(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      if (params.categoryId === -1) {\r\n        delete params.categoryId\r\n      }\r\n      const result = await request.get(`${this.prefix}/collection/list`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getListSlideBanner(params?: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/home/list-remarkable`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getListActivity(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/activity/list`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getListActivityProfileNft(accountId: number, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const objKey = Object.keys(params)\r\n      forEach(objKey, key => {\r\n        if (params[key] === '') {\r\n          delete params[key]\r\n        }\r\n      })\r\n      const result = await request.get(`${this.prefix}/activities/${accountId}`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getCollectionAccount(accountId: number | string, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/account/${accountId}/list-collection`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async favouriteItem(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/activity/favourite`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListOwners(id: string, params: Record<string, any>, getcontent = false): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/item/${id}/owners`, { params })\r\n      if(getcontent === true) {\r\n        return Promise.resolve(result.data.data)\r\n      }\r\n      return Promise.resolve(result.data.data.content)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async buyNft(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/buy-nft`, { ...params })\r\n      return Promise.resolve(result.data.data.content)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getLynkeyInfo(currency: string, params?: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/activity/${currency}/info`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getMyProfileNft(): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/account/my-info`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getUserprofile(id: string): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/account/${id}/info`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getHotNft(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/home/list-hot-item`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getUnique(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/home/list-unique`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getListFollow(accountId: string | number, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/account/${accountId}/follows`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async actionFollow(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/follow`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async updateSocialInfo(data?: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.put(`${this.prefix}/account/update-social-info`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async updateNftProfile(data?: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.put(`${this.prefix}/account/update-nft-profile`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getDetailProperty(type: string, id: string): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/${type}/detail/${id}`)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getChangePrice(currency: string, itemId: number): Promise<any> {\r\n    try {\r\n      const rs = await request.get(`${this.prefix}/activity/${currency}/info?itemId=${itemId}`)\r\n      return Promise.resolve(rs.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async saveChangePrice(idItem: string | number, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.put(`${this.prefix}/item/${idItem}/change-price`, params)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async externalLogin(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/account/external/login`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async transferNft(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/transfer`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async fixedPrice(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/listing`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async removeFromSale(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/unlisting`, data)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async placeABid(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/place-a-bid`, params)\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n\r\n  async getAcceptBidOffer(itemId: string | number, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const rs = await request.get(`${this.prefix}/item/${itemId}/list-offer`, { params })\r\n      return Promise.resolve(rs.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async postAcceptBid(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/bid/accept`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async postTimedAuction(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/listing`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async postOpenForBids(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/listing`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async postContactMarketplace(data: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/contact/email`, { ...data })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getMakeOffer(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/make-offer`, params)\r\n      return Promise.resolve(result.data.data.content)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getInfoExternalUser(): Promise<any> {\r\n    try {\r\n      const result = await request.get(`${this.prefix}/account/my-info`)\r\n      return Promise.resolve(result.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async validateAddress(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      console.log('........................a')\r\n      const result = await request.get(`${this.prefix}/validate/address`, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async handleCancelBid(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/bid/cancel`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async handleCancelOffer(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/cancel-offer`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async postAcceptOffer(params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/item/accept-offer`, { ...params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async getAbiContract(params: Record<string, any>, type: 'ETH' | 'BNB' | ''): Promise<any> {\r\n    try {\r\n      let result: Record<string, any> = {}\r\n      if (type === 'ETH') {\r\n        result = await axios.get(`https://api-ropsten.etherscan.io/api`, { params })\r\n      } else {\r\n        result = await axios.get(`https://api-testnet.bscscan.com/api`, { params })\r\n      }\r\n      return Promise.resolve(result.data.result)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n  async validateApprove(data: Record<string, any>, params: Record<string, any>): Promise<any> {\r\n    try {\r\n      const result = await request.post(`${this.prefix}/account/approve`, data, { params })\r\n      return Promise.resolve(result.data.data)\r\n    } catch (error) {\r\n      return Promise.reject(error)\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}