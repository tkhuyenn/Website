{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\popup\\PopupVerifyPhone.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\popup\\PopupVerifyPhone.vue","mtime":1660123011576},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\babel.config.js","mtime":1660970148265},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDpcXE5FVVxcQ0RUVFxcZnJvbnRlbmRcXFdlYnNpdGVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOlxcTkVVXFxDRFRUXFxmcm9udGVuZFxcV2Vic2l0ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6XFxORVVcXENEVFRcXGZyb250ZW5kXFxXZWJzaXRlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVTdXBlci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgTWl4aW5zLCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgUG9wdXBNaXhpbiBmcm9tICdAL21peGlucy9wb3B1cCc7CmltcG9ydCBnZXRSZXBvc2l0b3J5IGZyb20gJ0Avc2VydmljZXMnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKaW1wb3J0IGluY2x1ZGVzIGZyb20gJ2xvZGFzaC9pbmNsdWRlcyc7CnZhciBhcGlTZXR0aW5nID0gZ2V0UmVwb3NpdG9yeSgnc2V0dGluZycpOwoKdmFyIFBvcHVwVmVyaWZ5UGhvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NaXhpbnMpIHsKICBfaW5oZXJpdHMoUG9wdXBWZXJpZnlQaG9uZSwgX01peGlucyk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUG9wdXBWZXJpZnlQaG9uZSk7CgogIGZ1bmN0aW9uIFBvcHVwVmVyaWZ5UGhvbmUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcHVwVmVyaWZ5UGhvbmUpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5mb3JtID0gewogICAgICB2ZXJpZmljYXRpb25Db2RlOiAnJwogICAgfTsKICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgX3RoaXMuc3VjY2VzcyA9IDA7CiAgICBfdGhpcy5ydWxlcyA9IHsKICAgICAgdmVyaWZpY2F0aW9uQ29kZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiBfdGhpcy4kdCgndmVyaWZ5Lndyb25nLWNvZGUnKSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIGxlbjogNiwKICAgICAgICBtZXNzYWdlOiBfdGhpcy4kdCgnY2hhbmdlUGFzc3dvcmQuZXJyb3JMZW5ndGhWZXJpZmljYXRpb25Db2RlJyksCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dCiAgICB9OyAvLyBnZXQgZ2V0VGl0dGxlKCk6IHN0cmluZyB8IGFueSB7CiAgICAvLyAgIGNvbnN0IG5hbWUgPSB0aGlzLiRyb3V0ZS5uYW1lCiAgICAvLyAgIGlmIChuYW1lID09PSAndmVyaWZ5LXBob25lJykgewogICAgLy8gICAgIHJldHVybiB0aGlzLiR0KCd2ZXJpZnkudGl0bGUtcGhvbmUnKQogICAgLy8gICB9CiAgICAvLyAgIGlmIChuYW1lID09PSAndmVyaWZ5LWVtYWlsJykgewogICAgLy8gICAgIHJldHVybiB0aGlzLiR0KCd2ZXJpZnkudGl0bGUtZW1haWwnKQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiB0aGlzLiR0KCd2ZXJpZnkudGl0bGUtYXBwJykKICAgIC8vIH0KICAgIC8vIGRlYm91bmNlIGNoYW4gZG9ibGUgY2xpY2sKCiAgICBfdGhpcy5kZWJvdW5jZUZpbHRlciA9IGRlYm91bmNlKGZ1bmN0aW9uIChuYW1lQWN0aW9uKSB7CiAgICAgIGlmIChuYW1lQWN0aW9uID09ICdoYW5kbGVSZXNlbmRDb2RlJykgewogICAgICAgIF90aGlzLnJlc2VuZENvZGUoKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWVBY3Rpb24gPT0gJ2hhbmRsZVN1Ym1pdCcpIHsKICAgICAgICBfdGhpcy5zdWJtaXQoKTsKICAgICAgfQogICAgfSwgNDAwKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhQb3B1cFZlcmlmeVBob25lLCBbewogICAga2V5OiAiZ2V0RGlzYWJsZUJ0biIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9ybS52ZXJpZmljYXRpb25Db2RlLmxlbmd0aCAhPT0gNjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRJY29uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgbmFtZSA9IHRoaXMuJHJvdXRlLm5hbWU7CgogICAgICBpZiAobmFtZSA9PT0gJ3ZlcmlmeS1waG9uZScpIHsKICAgICAgICByZXR1cm4gJ3ZlcmlmeS1waG9uZSc7CiAgICAgIH0KCiAgICAgIGlmIChuYW1lID09PSAndmVyaWZ5LWVtYWlsJykgewogICAgICAgIHJldHVybiAndmVyaWZ5LWVtYWlsJzsKICAgICAgfQoKICAgICAgcmV0dXJuICd2ZXJpZnktYXBwJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ3YXRjaENvZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHdhdGNoQ29kZShjb2RlKSB7CiAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzJGZvcm1WZXJpOwoKICAgICAgICAvL0B0cy1pZ25vcmUKICAgICAgICAoX3RoaXMkJHJlZnMkZm9ybVZlcmkgPSB0aGlzLiRyZWZzWydmb3JtLXZlcmlmeSddKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyRmb3JtVmVyaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkZm9ybVZlcmkuY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlUmVzZW5kQ29kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzZW5kQ29kZSgpIHsKICAgICAgdGhpcy5kZWJvdW5jZUZpbHRlcignaGFuZGxlUmVzZW5kQ29kZScpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2VuZENvZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZXNlbmRDb2RlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgICBhcGlTZXR0aW5nLmNoYW5nZVBob25lKHRoaXMuZGF0YSwgewogICAgICAgICAgICAgICAgICByZXNlbmRDb2RlOiAnbmV3JwogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGhpczIuJHQoJ25vdGlmeS5zZW5kLWNvZGUnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSwKICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IF9lcnJvciRyZXNwb25zZS5jb25maWcsCiAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Vycm9yJHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdVU0VSX0JMT0NLRUQnICYmIGluY2x1ZGVzKGNvbmZpZy51cmwsICdyZXNlbmRDb2RlJykpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RoaXMyLiR0KCdub3RpZnkudXNlci1ibG9ja2VkLXJlc2VuZC1jb2RlJyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnVVNFUl9MT0NLRUQnICYmIGluY2x1ZGVzKGNvbmZpZy51cmwsICdyZXNlbmRDb2RlJykpIHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gX3RoaXMyLiR0KCdub3RpZnkudXNlci1sb2NrZWQtcmVzZW5kLWNvZGUnKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlc2VuZENvZGUoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNlbmRDb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNlbmRDb2RlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaGFuZGxlUmVzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgdmVyaWZpY2F0aW9uQ29kZTogJycKICAgICAgfTsKICAgICAgdGhpcy5zdWNjZXNzID0gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYW5kbGVDbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7CiAgICAgIC8vQHRzLWlnbm9yZQogICAgICB0aGlzLiRyZWZzWydmb3JtLXZlcmlmeSddLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgdGhpcy5oYW5kbGVSZXNldCgpOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZU9wZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU9wZW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvcGVuJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlU3VibWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHRoaXMuZGVib3VuY2VGaWx0ZXIoJ2hhbmRsZVN1Ym1pdCcpOwogICAgfQogIH0sIHsKICAgIGtleTogInN1Ym1pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3N1Ym1pdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzJGZvcm1WZXJpMiwKICAgICAgICAgICAgX3RoaXMzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgICAgICAgKF90aGlzJCRyZWZzJGZvcm1WZXJpMiA9IHRoaXMuJHJlZnNbJ2Zvcm0tdmVyaWZ5J10pID09PSBudWxsIHx8IF90aGlzJCRyZWZzJGZvcm1WZXJpMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkZm9ybVZlcmkyLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczMuZGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uQ29kZU9sZFBob25lOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbkNvZGVOZXdQaG9uZTogX3RoaXMzLmZvcm0udmVyaWZpY2F0aW9uQ29kZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpU2V0dGluZy5jaGFuZ2VQaG9uZVZlcmlmaWNhdGlvbihkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfdGhpczMuJHQoJ25vdGlmeS52ZXJpZnktc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldE9wZW5Qb3B1cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE5hbWU6ICdwb3B1cC12ZXJpZnktcGhvbmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoJ3JlbG9hZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgICAgcmV0dXJuIF9zdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN1Ym1pdDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFBvcHVwVmVyaWZ5UGhvbmU7Cn0oTWl4aW5zKFBvcHVwTWl4aW4pKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IE9iamVjdCwKICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgIHJldHVybiB7fTsKICB9Cn0pXSwgUG9wdXBWZXJpZnlQaG9uZS5wcm90b3R5cGUsICJkYXRhIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdmb3JtLnZlcmlmaWNhdGlvbkNvZGUnKV0sIFBvcHVwVmVyaWZ5UGhvbmUucHJvdG90eXBlLCAid2F0Y2hDb2RlIiwgbnVsbCk7CgpQb3B1cFZlcmlmeVBob25lID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgUG9wdXBWZXJpZnlQaG9uZSk7CmV4cG9ydCBkZWZhdWx0IFBvcHVwVmVyaWZ5UGhvbmU7"},{"version":3,"sources":["D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\popup\\PopupVerifyPhone.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins, Prop, Watch } from 'vue-property-decorator'\nimport PopupMixin from '@/mixins/popup'\n\nimport getRepository from '@/services'\n\nimport debounce from 'lodash/debounce'\nimport includes from 'lodash/includes'\nimport { SettingRepository } from '@/services/repositories/setting'\n\nconst apiSetting: SettingRepository = getRepository('setting')\n\n@Component\nexport default class PopupVerifyPhone extends Mixins(PopupMixin) {\n  @Prop({ required: true, type: Object, default: () => ({}) }) data!: Record<string, any>\n  form: Record<string, any> = {\n    verificationCode: ''\n  }\n  isLoading = false\n  success: any = 0\n  rules: Record<string, any> = {\n    verificationCode: [\n      {\n        required: true,\n        message: this.$t('verify.wrong-code'),\n        trigger: 'blur'\n      },\n      {\n        len: 6,\n        message: this.$t('changePassword.errorLengthVerificationCode'),\n        trigger: 'blur'\n      }\n    ]\n  }\n  get getDisableBtn(): boolean {\n    return this.form.verificationCode.length !== 6\n  }\n\n  get getIcon(): string {\n    const name = this.$route.name\n    if (name === 'verify-phone') {\n      return 'verify-phone'\n    }\n    if (name === 'verify-email') {\n      return 'verify-email'\n    }\n    return 'verify-app'\n  }\n\n  @Watch('form.verificationCode') watchCode(code: string): void {\n    if (code) {\n      //@ts-ignore\n      this.$refs['form-verify']?.clearValidate()\n    }\n  }\n\n  // get getTittle(): string | any {\n  //   const name = this.$route.name\n  //   if (name === 'verify-phone') {\n  //     return this.$t('verify.title-phone')\n  //   }\n  //   if (name === 'verify-email') {\n  //     return this.$t('verify.title-email')\n  //   }\n  //   return this.$t('verify.title-app')\n  // }\n  // debounce chan doble click\n  debounceFilter = debounce((nameAction: any) => {\n    if (nameAction == 'handleResendCode') {\n      this.resendCode()\n    }\n    if (nameAction == 'handleSubmit') {\n      this.submit()\n    }\n  }, 400)\n  handleResendCode(): void {\n    this.debounceFilter('handleResendCode')\n  }\n  async resendCode(): Promise<void> {\n    let message: any = ''\n    apiSetting\n      .changePhone(this.data, { resendCode: 'new' })\n      .then(() => {\n        message = this.$t('notify.send-code')\n        this.$message.success({ message, duration: 5000 })\n      })\n      .catch(error => {\n        let message: any = ''\n        const { config, data } = error.response\n\n        if (data.status === 'USER_BLOCKED' && includes(config.url, 'resendCode')) {\n          message = this.$t('notify.user-blocked-resend-code')\n          this.$message.error({ message, duration: 5000 })\n        }\n        if (data.status === 'USER_LOCKED' && includes(config.url, 'resendCode')) {\n          message = this.$t('notify.user-locked-resend-code')\n          this.$message.error({ message, duration: 5000 })\n        }\n      })\n  }\n  handleReset(): void {\n    this.form = {\n      verificationCode: ''\n    }\n    this.success = 0\n  }\n  handleClose(): void {\n    //@ts-ignore\n    this.$refs['form-verify'].clearValidate()\n    this.handleReset()\n  }\n  handleOpen(): void {\n    console.log('open')\n  }\n  handleSubmit(): void {\n    this.debounceFilter('handleSubmit')\n  }\n  async submit(): Promise<void> {\n    //@ts-ignore\n    this.$refs['form-verify']?.validate(async valid => {\n      if (valid) {\n        this.isLoading = true\n        const data = {\n          ...this.data,\n          verificationCodeOldPhone: null,\n          verificationCodeNewPhone: this.form.verificationCode\n        }\n        apiSetting\n          .changePhoneVerification(data)\n          .then(() => {\n            let message: any = ''\n            message = this.$t('notify.verify-success')\n            this.$message.success({ message, duration: 5000 })\n            this.setOpenPopup({\n              popupName: 'popup-verify-phone',\n              isOpen: false\n            })\n            this.$emit('reload')\n          })\n          .catch(() => {\n            this.isLoading = false\n          })\n      }\n    })\n  }\n}\n"],"sourceRoot":""}]}