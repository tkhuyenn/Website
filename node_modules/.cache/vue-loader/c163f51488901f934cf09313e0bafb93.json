{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\auth\\views\\Verify.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\auth\\views\\Verify.vue","mtime":1661155681404},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgZ2V0UmVwb3NpdG9yeSBmcm9tICdAL3NlcnZpY2VzJwppbXBvcnQgeyBWZXJpZnlSZXBvc2l0b3J5IH0gZnJvbSAnQC9zZXJ2aWNlcy9yZXBvc2l0b3JpZXMvdmVyaWZ5JwppbXBvcnQgeyBBdXRoUmVwb3NpdG9yeSB9IGZyb20gJ0Avc2VydmljZXMvcmVwb3NpdG9yaWVzL2F1dGgnCmltcG9ydCB7IEFjdGl2aXR5UmVwb3NpdG9yeSB9IGZyb20gJ0Avc2VydmljZXMvcmVwb3NpdG9yaWVzL2FjdGl2aXR5JwoKaW1wb3J0IHsgSUJvZHlBcGlWZXJpZnkgfSBmcm9tICdAL2ludGVyZmFjZScKaW1wb3J0IHsgbmFtZXNwYWNlIH0gZnJvbSAndnVleC1jbGFzcycKaW1wb3J0IGluY2x1ZGVzIGZyb20gJ2xvZGFzaC9pbmNsdWRlcycKCmNvbnN0IGJjQXV0aCA9IG5hbWVzcGFjZSgnYmVBdXRoJykKY29uc3QgYXBpVmVyaWZ5OiBWZXJpZnlSZXBvc2l0b3J5ID0gZ2V0UmVwb3NpdG9yeSgndmVyaWZ5JykKY29uc3QgYXBpQXV0aDogQXV0aFJlcG9zaXRvcnkgPSBnZXRSZXBvc2l0b3J5KCdhdXRoJykKY29uc3QgYXBpQWN0aXZpdHk6IEFjdGl2aXR5UmVwb3NpdG9yeSA9IGdldFJlcG9zaXRvcnkoJ2FjdGl2aXR5JykKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyaWZ5UGFnZSBleHRlbmRzIFZ1ZSB7CiAgQGJjQXV0aC5BY3Rpb24oJ2xvZ2luJykgbG9naW4hOiAoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PikgPT4gUHJvbWlzZTx2b2lkPgogIEBiY0F1dGguQWN0aW9uKCdzZXRUb2tlbicpIHNldFRva2VuITogKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IFByb21pc2U8dm9pZD4KICBAYmNBdXRoLk11dGF0aW9uKCdTRVRfVVNFUl9JTkZPJykgc2V0VXNlckluZm8hOiAoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PikgPT4gdm9pZAogIEBiY0F1dGguR2V0dGVyKCdpc0xvZ2luJykgaXNMb2dpbiE6IGJvb2xlYW4KICBAYmNBdXRoLkFjdGlvbignbG9nb3V0JykgbG9nb3V0ITogKCkgPT4gUHJvbWlzZTx2b2lkPgoKICBmb3JtOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gewogICAgY29kZTogJycKICB9CiAgaXNMb2FkaW5nID0gZmFsc2UKICBydWxlczogUmVjb3JkPHN0cmluZywgYW55PiA9IHsKICAgIGNvZGU6IFsKICAgICAgewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3ZlcmlmeS53cm9uZy1jb2RlJyksCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0KICAgIF0KICB9CgogIGdldCBnZXRTaG93UmVzZW5kQ29kZSgpOiBib29sZWFuIHsKICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lICE9PSAndmVyaWZ5LWFwcCcgJiYgdGhpcy4kcm91dGUucXVlcnkucmVhc29uICE9PSAnQ0hBTkdFX1BIT05FJwogIH0KICBnZXQgZ2V0RGlzYWJsZUJ0bigpOiBib29sZWFuIHsKICAgIHJldHVybiB0aGlzLmZvcm0uY29kZS5sZW5ndGggIT09IDYKICB9CgogIGdldCBnZXRJY29uKCk6IHN0cmluZyB7CiAgICBjb25zdCBuYW1lID0gdGhpcy4kcm91dGUubmFtZQogICAgaWYgKG5hbWUgPT09ICd2ZXJpZnktcGhvbmUnKSB7CiAgICAgIHJldHVybiAndmVyaWZ5LXBob25lJwogICAgfQogICAgaWYgKG5hbWUgPT09ICd2ZXJpZnktZW1haWwnKSB7CiAgICAgIHJldHVybiAndmVyaWZ5LWVtYWlsJwogICAgfQogICAgcmV0dXJuICd2ZXJpZnktYXBwJwogIH0KCiAgZ2V0IGdldFRpdHRsZSgpOiBzdHJpbmcgfCBhbnkgewogICAgY29uc3QgbmFtZSA9IHRoaXMuJHJvdXRlLm5hbWUKICAgIGlmIChuYW1lID09PSAndmVyaWZ5LXBob25lJykgewogICAgICByZXR1cm4gdGhpcy4kdCgndmVyaWZ5LnRpdGxlLXBob25lJykKICAgIH0KICAgIGlmIChuYW1lID09PSAndmVyaWZ5LWVtYWlsJykgewogICAgICByZXR1cm4gdGhpcy4kdCgndmVyaWZ5LnRpdGxlLWVtYWlsJykKICAgIH0KICAgIHJldHVybiB0aGlzLiR0KCd2ZXJpZnkudGl0bGUtYXBwJykKICB9CgogIGNyZWF0ZWQoKTogdm9pZCB7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5xdWVyeS5yZWFzb24gPT09ICdDSEFOR0VfUEhPTkUnKQoKICAgIGlmICh0aGlzLmlzTG9naW4gJiYgdGhpcy4kcm91dGUucXVlcnkucmVhc29uID09PSAnQ0hBTkdFX1BIT05FJykgewogICAgICB0aGlzLmxvZ291dCgpCiAgICB9CiAgfQoKICBoYW5kbGVDaGFuZ2VDb2RlKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7CiAgICBsZXQga2V5Q29kZSA9IGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQud2hpY2gKICAgIGlmIChrZXlDb2RlID09PSAzMikgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpCiAgICB9CiAgfQoKICBjbGVhclZhbGlkYXRlKCk6IHZvaWQgewogICAgLy9AdHMtaWdub3JlCiAgICB0aGlzLiRyZWZzWydmb3JtLXZlcmlmeSddPy5yZXNldEZpZWxkcygpCiAgfQoKICBoYW5kbGVVc2VPdGhlclBob25lKCk6IHZvaWQgewogICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndmVyaWZ5LXBob25lLW51bWJlcicsIHF1ZXJ5OiB7IGVtYWlsOiB0aGlzLiRyb3V0ZS5xdWVyeS5lbWFpbCB9IH0pCiAgfQoKICBoYW5kbGVDYWxsU2VuZENvZGUoKTogdm9pZCB7CiAgICBjb25zdCB7IGNvdW50cnksIHBob25lLCBjb3VudHJ5Q29kZSwgZW1haWwgfSA9IHRoaXMuJHJvdXRlLnF1ZXJ5IQogICAgY29uc3QgZGF0YSA9IHsKICAgICAgY291bnRyeSwKICAgICAgcGhvbmUsCiAgICAgIGNvdW50cnlDb2RlLAogICAgICBlbWFpbCwKICAgICAgcGhvbmVDYWxsOiB0cnVlCiAgICB9CiAgICBsZXQgbWVzc2FnZTogYW55ID0gJycKICAgIGFwaUF1dGgKICAgICAgLnZlcmlmeVBob25lKGRhdGEpCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICBtZXNzYWdlID0gdGhpcy4kdCgnbm90aWZ5LnNlbmQtY29kZS12b2ljZScpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsgbWVzc2FnZSwgZHVyYXRpb246IDUwMDAgfSkKICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKQogICAgICAgIC8vIG1lc3NhZ2UgPSB0aGlzLiR0KCdub3RpZnkuc2VuZC1jb2RlLWZhaWwnKQogICAgICAgIC8vIHRoaXMuJG1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlLCBkdXJhdGlvbjogNTAwMCB9KQogICAgICB9KQogIH0KCiAgYXN5bmMgaGFuZGxlUmVzZW5kQ29kZSgpOiBQcm9taXNlPHZvaWQ+IHsKICAgIHRyeSB7CiAgICAgIGxldCBtZXNzYWdlOiBhbnkgPSAnJwogICAgICBjb25zdCBlbWFpbCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmVtYWlsCiAgICAgIC8vIGNvbnN0IHJlYXNvbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlYXNvbgogICAgICBjb25zdCB0eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZQogICAgICBjb25zdCByZWFzb24gPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZWFzb24gPT09ICdSRVFVRVNUX0xPR0lOJyA/ICdGT1JfTE9HSU4nIDogdGhpcy4kcm91dGUucXVlcnkucmVhc29uID09PSAnRk9SR0VUX1BBU1NXT1JEJyA/ICdGT1JHT1RfUEFTU1dPUkQnIDogJ0ZPUl9SRUdJU1RFUicKICAgICAgYXdhaXQgYXBpQXV0aC5yZXNlbmRDb2RlKHsgZW1haWwsIHR5cGUsIHJlYXNvbiB9KQogICAgICBtZXNzYWdlID0gdGhpcy4kdCgnbm90aWZ5LnNlbmQtY29kZScpCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7IG1lc3NhZ2UsIGR1cmF0aW9uOiA1MDAwIH0pCiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgIGxldCBtZXNzYWdlOiBhbnkgPSAnJwogICAgICBjb25zdCB7IGNvbmZpZywgZGF0YSB9ID0gZXJyb3IucmVzcG9uc2UKICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnVVNFUl9CTE9DS0VEJyAmJiBpbmNsdWRlcyhjb25maWcudXJsLCAncmVzZW5kQ29kZScpKSB7CiAgICAgICAgbWVzc2FnZSA9IHRoaXMuJHQoJ25vdGlmeS51c2VyLWJsb2NrZWQtcmVzZW5kLWNvZGUnKQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlLCBkdXJhdGlvbjogNTAwMCB9KQogICAgICB9CiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ1VTRVJfTE9DS0VEJyAmJiBpbmNsdWRlcyhjb25maWcudXJsLCAncmVzZW5kQ29kZScpKSB7CiAgICAgICAgbWVzc2FnZSA9IHRoaXMuJHQoJ25vdGlmeS51c2VyLWxvY2tlZC1yZXNlbmQtY29kZScpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7IG1lc3NhZ2UsIGR1cmF0aW9uOiA1MDAwIH0pCiAgICAgIH0KICAgIH0KICB9CgogIGhhbmRsZVN1Ym1pdCgpOiB2b2lkIHsKICAgIGlmICh0aGlzLmdldERpc2FibGVCdG4pIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICAvL0B0cy1pZ25vcmUKICAgIHRoaXMuJHJlZnNbJ2Zvcm0tdmVyaWZ5J10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICBpZiAodmFsaWQpIHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgICBsZXQgbWVzc2FnZTogYW55ID0gJycKICAgICAgICAvLyBjb25zdCB0eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZQogICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy4kcm91dGUucXVlcnkucGFzcwogICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy4kcm91dGUucXVlcnkuZW1haWwKICAgICAgICBjb25zdCByZWFzb24gPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZWFzb24KICAgICAgICBjb25zdCBkYXRhOiBJQm9keUFwaVZlcmlmeSA9IHsKICAgICAgICAgIGVtYWlsLAogICAgICAgICAgcGFzc3dvcmQsCiAgICAgICAgICB2ZXJpZmljYXRpb25Db2RlOiB0aGlzLmZvcm0uY29kZQogICAgICAgIH0KICAgICAgICBpZiAocmVhc29uID09PSAnUkVRVUVTVF9MT0dJTicpIHsKICAgICAgICAgIC8vIGNvbnN0IGVuY29kZVBhc3MgPSB0aGlzLiRvcHRpb25zLmZpbHRlcnM/LmVuY3J5cHRQYXNzd29yZChwYXNzd29yZCkKICAgICAgICAgIHRoaXMubG9naW4oeyAuLi5kYXRhIH0pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBtZXNzYWdlID0gdGhpcy4kdCgnbm90aWZ5LnZlcmlmeS1zdWNjZXNzJykKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoeyBtZXNzYWdlLCBkdXJhdGlvbjogNTAwMCB9KQogICAgICAgICAgICAgIC8vIGNhc2UgY2xpY2sgYW55IGJ1dHRvbiBmcm9tICBtYXJrZXRwbGFjZSAsIGJ1dCBsb2dpbiB5ZXQKICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaXNCYWNrID09PSAnMScpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5uYW1lIGFzIHN0cmluZwogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1hcmtldFR5cGUgYXMgc3RyaW5nCiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIGFzIHN0cmluZwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lLCBwYXJhbXM6IHsgdHlwZSwgaWQgfSB9KQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucXVlcnkuaXNCYWNrID09PSAnbmZ0JykgewogICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5hbWUgYXMgc3RyaW5nCiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIGFzIHN0cmluZwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lLCBwYXJhbXM6IHsgaWQgfSB9KQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdXYWxsZXQnIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGlmIChyZWFzb24gPT09ICdTSUdOX1VQJykgewogICAgICAgICAgZGVsZXRlIGRhdGEucGFzc3dvcmQKICAgICAgICAgIGFwaUF1dGgKICAgICAgICAgICAgLnZlcmlmeUNvZGUoJ0NPREUnLCB7IC4uLmRhdGEsIHR5cGU6ICdFTUFJTCcgfSkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICd2ZXJpZnktcGhvbmUtbnVtYmVyJywgcXVlcnk6IHsgZW1haWwgfSB9KQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgaWYgKHJlYXNvbiA9PT0gJ1ZFUklGWS1TTVMnKSB7CiAgICAgICAgICBkZWxldGUgZGF0YS5wYXNzd29yZAogICAgICAgICAgYXBpQXV0aAogICAgICAgICAgICAudmVyaWZ5Q29kZSgnQ09ERScsIHsgLi4uZGF0YSwgdHlwZTogJ1NNUycgfSwgMCwgdHJ1ZSkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLnNldFRva2VuKHJlcykKICAgICAgICAgICAgICB0aGlzLnNldFVzZXJJbmZvKHJlcykKICAgICAgICAgICAgICAvLyBhcGlBY3Rpdml0eS5jcmVhdGVMb2dMb2dpbih7IHNvdXJjZVR5cGU6ICdXRUInIH0pCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnV2FsbGV0JyB9KQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgaWYgKHJlYXNvbiA9PT0gJ0ZPUkdFVF9QQVNTV09SRCcpIHsKICAgICAgICAgIGFwaUF1dGgKICAgICAgICAgICAgLmZvcmdldFBhc3N3b3JkKHsgLi4uZGF0YSwgdHlwZTogJ0VNQUlMJyB9KQogICAgICAgICAgICAudGhlbihjb2RlID0+IHsKICAgICAgICAgICAgICBtZXNzYWdlID0gdGhpcy4kdCgnbm90aWZ5LnZlcmlmeS1zdWNjZXNzJykKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoeyBtZXNzYWdlLCBkdXJhdGlvbjogNTAwMCB9KQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ3Jlc2V0LXBhc3N3b3JkJywgcXVlcnk6IHsgZW1haWwsIHJlYXNvbjogJ0ZPUkdFVF9QQVNTV09SRCcsIGNvZGUgfSB9KQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgICAgICBpZiAocmVhc29uID09PSAnQ0hBTkdFX1BIT05FJykgewogICAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgICAuLi50aGlzLiRyb3V0ZS5xdWVyeSwKICAgICAgICAgICAgdmVyaWZ5VHlwZTogJ1NNUycsCiAgICAgICAgICAgIGNvZGU6IHRoaXMuZm9ybS5jb2RlCiAgICAgICAgICB9CiAgICAgICAgICBhcGlBdXRoCiAgICAgICAgICAgIC51cGRhdGVQaG9uZVVzZXIocGFyYW1zKQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuJHQoJ25vdGlmeS5jaGFuZ2UtcGhvbmUtc3VjY3Nlc3MnKQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7IG1lc3NhZ2UsIGR1cmF0aW9uOiA1MDAwIH0pCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfQogICAgfSkKICB9CiAgZ2V0TW9iaWxlT3BlcmF0aW5nU3lzdGVtKCk6IHN0cmluZyB7CiAgICBsZXQgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yCgogICAgLy8gV2luZG93cyBQaG9uZSBtdXN0IGNvbWUgZmlyc3QgYmVjYXVzZSBpdHMgVUEgYWxzbyBjb250YWlucyAiQW5kcm9pZCIKICAgIGlmICgvd2luZG93cyBwaG9uZS9pLnRlc3QodXNlckFnZW50KSkgewogICAgICByZXR1cm4gJ1dpbmRvd3MgUGhvbmUnCiAgICB9CgogICAgaWYgKC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpKSB7CiAgICAgIHJldHVybiAnQW5kcm9pZCcKICAgIH0KCiAgICAvLyBpT1MgZGV0ZWN0aW9uIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkwMzk4ODUvMTc3NzEwCiAgICBpZiAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QodXNlckFnZW50KSkgewogICAgICByZXR1cm4gJ2lPUycKICAgIH0KCiAgICByZXR1cm4gJ3Vua25vd24nCiAgfQp9Cg=="},{"version":3,"sources":["Verify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Verify.vue","sourceRoot":"src/modules/auth/views","sourcesContent":["<template>\r\n  <div class=\"bc-verify\">\r\n    <h3 class=\"text-3xl text-center text-semibold title-form\">{{ getTittle }}</h3>\r\n    <div class=\"be-flex verify-code\">\r\n      <base-icon class=\"icon\" :icon=\"getIcon\" size=\"80\" />\r\n      <div class=\"w-100 input-code style-verify-code\">\r\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"form-verify\" @submit.native.prevent=\"handleSubmit\">\r\n          <el-form-item prop=\"code\" :label=\"`${$t('verify.label')}`\" class=\"no-require-label\">\r\n            <el-input type=\"text\" v-model.trim=\"form.code\" maxlength=\"6\" :placeholder=\"`${$t('verify.placeholder')}`\" @keypress.native=\"handleChangeCode($event)\" />\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <el-button :loading=\"isLoading\" :class=\"getDisableBtn ? 'btn--disabled' : null\" class=\"btn w-100 is-none-border cursor\" @click=\"handleSubmit\"\r\n      >{{ $t('verify.submit') }}\r\n    </el-button>\r\n    <!-- <button :class=\"getDisableBtn ? 'btn--disabled' : null\" type=\"button\" class=\"btn is-none-border w-100 cursor\" @click=\"handleSubmit\">{{ $t('verify.submit') }}</button> -->\r\n    <div v-if=\"getShowResendCode\" class=\"text-base be-flex jc-space-center mt-24 text-grey-130 note-style\">\r\n      {{ $t('verify.question') }} &nbsp;<span class=\"text-hyperlink text-semibold cursor\" @click=\"handleResendCode\">{{ $t('verify.re-send') }} </span>\r\n    </div>\r\n    <div v-if=\"$route.query.reason === 'VERIFY-SMS'\" class=\"text-base be-flex jc-space-center mt-12 text-grey-130 note-style use-voice-call\">\r\n      <span class=\"text-hyperlink text-semibold cursor\" @click=\"handleCallSendCode\"> {{ $t('verify.voice-call') }}</span>\r\n    </div>\r\n    <div v-if=\"$route.query.reason === 'VERIFY-SMS'\" class=\"text-base be-flex jc-space-center mt-12 text-grey-130 note-style use-another-phone\">\r\n      <span class=\"text-hyperlink text-semibold cursor\" @click=\"handleUseOtherPhone\"> {{ $t('verify.another-phone') }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n  import { Component, Vue } from 'vue-property-decorator'\r\n  import getRepository from '@/services'\r\n  import { VerifyRepository } from '@/services/repositories/verify'\r\n  import { AuthRepository } from '@/services/repositories/auth'\r\n  import { ActivityRepository } from '@/services/repositories/activity'\r\n\r\n  import { IBodyApiVerify } from '@/interface'\r\n  import { namespace } from 'vuex-class'\r\n  import includes from 'lodash/includes'\r\n\r\n  const bcAuth = namespace('beAuth')\r\n  const apiVerify: VerifyRepository = getRepository('verify')\r\n  const apiAuth: AuthRepository = getRepository('auth')\r\n  const apiActivity: ActivityRepository = getRepository('activity')\r\n\r\n  @Component\r\n  export default class VerifyPage extends Vue {\r\n    @bcAuth.Action('login') login!: (data: Record<string, any>) => Promise<void>\r\n    @bcAuth.Action('setToken') setToken!: (data: Record<string, any>) => Promise<void>\r\n    @bcAuth.Mutation('SET_USER_INFO') setUserInfo!: (data: Record<string, any>) => void\r\n    @bcAuth.Getter('isLogin') isLogin!: boolean\r\n    @bcAuth.Action('logout') logout!: () => Promise<void>\r\n\r\n    form: Record<string, any> = {\r\n      code: ''\r\n    }\r\n    isLoading = false\r\n    rules: Record<string, any> = {\r\n      code: [\r\n        {\r\n          required: true,\r\n          message: this.$t('verify.wrong-code'),\r\n          trigger: 'blur'\r\n        }\r\n      ]\r\n    }\r\n\r\n    get getShowResendCode(): boolean {\r\n      return this.$route.name !== 'verify-app' && this.$route.query.reason !== 'CHANGE_PHONE'\r\n    }\r\n    get getDisableBtn(): boolean {\r\n      return this.form.code.length !== 6\r\n    }\r\n\r\n    get getIcon(): string {\r\n      const name = this.$route.name\r\n      if (name === 'verify-phone') {\r\n        return 'verify-phone'\r\n      }\r\n      if (name === 'verify-email') {\r\n        return 'verify-email'\r\n      }\r\n      return 'verify-app'\r\n    }\r\n\r\n    get getTittle(): string | any {\r\n      const name = this.$route.name\r\n      if (name === 'verify-phone') {\r\n        return this.$t('verify.title-phone')\r\n      }\r\n      if (name === 'verify-email') {\r\n        return this.$t('verify.title-email')\r\n      }\r\n      return this.$t('verify.title-app')\r\n    }\r\n\r\n    created(): void {\r\n      console.log(this.$route.query.reason === 'CHANGE_PHONE')\r\n\r\n      if (this.isLogin && this.$route.query.reason === 'CHANGE_PHONE') {\r\n        this.logout()\r\n      }\r\n    }\r\n\r\n    handleChangeCode(event: KeyboardEvent): void {\r\n      let keyCode = event.keyCode ? event.keyCode : event.which\r\n      if (keyCode === 32) {\r\n        event.preventDefault()\r\n      }\r\n    }\r\n\r\n    clearValidate(): void {\r\n      //@ts-ignore\r\n      this.$refs['form-verify']?.resetFields()\r\n    }\r\n\r\n    handleUseOtherPhone(): void {\r\n      this.$router.push({ name: 'verify-phone-number', query: { email: this.$route.query.email } })\r\n    }\r\n\r\n    handleCallSendCode(): void {\r\n      const { country, phone, countryCode, email } = this.$route.query!\r\n      const data = {\r\n        country,\r\n        phone,\r\n        countryCode,\r\n        email,\r\n        phoneCall: true\r\n      }\r\n      let message: any = ''\r\n      apiAuth\r\n        .verifyPhone(data)\r\n        .then(() => {\r\n          message = this.$t('notify.send-code-voice')\r\n          this.$message.success({ message, duration: 5000 })\r\n        })\r\n        .catch(() => {\r\n          console.log('error')\r\n          // message = this.$t('notify.send-code-fail')\r\n          // this.$message.error({ message, duration: 5000 })\r\n        })\r\n    }\r\n\r\n    async handleResendCode(): Promise<void> {\r\n      try {\r\n        let message: any = ''\r\n        const email = this.$route.query.email\r\n        // const reason = this.$route.query.reason\r\n        const type = this.$route.query.type\r\n        const reason = this.$route.query.reason === 'REQUEST_LOGIN' ? 'FOR_LOGIN' : this.$route.query.reason === 'FORGET_PASSWORD' ? 'FORGOT_PASSWORD' : 'FOR_REGISTER'\r\n        await apiAuth.resendCode({ email, type, reason })\r\n        message = this.$t('notify.send-code')\r\n        this.$message.success({ message, duration: 5000 })\r\n      } catch (error: any) {\r\n        let message: any = ''\r\n        const { config, data } = error.response\r\n        if (data.status === 'USER_BLOCKED' && includes(config.url, 'resendCode')) {\r\n          message = this.$t('notify.user-blocked-resend-code')\r\n          this.$message.error({ message, duration: 5000 })\r\n        }\r\n        if (data.status === 'USER_LOCKED' && includes(config.url, 'resendCode')) {\r\n          message = this.$t('notify.user-locked-resend-code')\r\n          this.$message.error({ message, duration: 5000 })\r\n        }\r\n      }\r\n    }\r\n\r\n    handleSubmit(): void {\r\n      if (this.getDisableBtn) {\r\n        return\r\n      }\r\n      //@ts-ignore\r\n      this.$refs['form-verify'].validate(valid => {\r\n        if (valid) {\r\n          this.isLoading = true\r\n          let message: any = ''\r\n          // const type = this.$route.query.type\r\n          const password = this.$route.query.pass\r\n          const email = this.$route.query.email\r\n          const reason = this.$route.query.reason\r\n          const data: IBodyApiVerify = {\r\n            email,\r\n            password,\r\n            verificationCode: this.form.code\r\n          }\r\n          if (reason === 'REQUEST_LOGIN') {\r\n            // const encodePass = this.$options.filters?.encryptPassword(password)\r\n            this.login({ ...data })\r\n              .then(() => {\r\n                message = this.$t('notify.verify-success')\r\n                this.$message.success({ message, duration: 5000 })\r\n                // case click any button from  marketplace , but login yet\r\n                if (this.$route.query.isBack === '1') {\r\n                  const name = this.$route.query.name as string\r\n                  const type = this.$route.query.marketType as string\r\n                  const id = this.$route.query.id as string\r\n                  this.$router.push({ name, params: { type, id } })\r\n                } else if (this.$route.query.isBack === 'nft') {\r\n                  const name = this.$route.query.name as string\r\n                  const id = this.$route.query.id as string\r\n                  this.$router.push({ name, params: { id } })\r\n                } else {\r\n                  this.$router.push({ name: 'Wallet' })\r\n                }\r\n                this.isLoading = false\r\n              })\r\n              .catch(() => {\r\n                this.isLoading = false\r\n              })\r\n          }\r\n          if (reason === 'SIGN_UP') {\r\n            delete data.password\r\n            apiAuth\r\n              .verifyCode('CODE', { ...data, type: 'EMAIL' })\r\n              .then(res => {\r\n                this.$router.push({ name: 'verify-phone-number', query: { email } })\r\n              })\r\n              .catch(error => {\r\n                this.isLoading = false\r\n              })\r\n          }\r\n          if (reason === 'VERIFY-SMS') {\r\n            delete data.password\r\n            apiAuth\r\n              .verifyCode('CODE', { ...data, type: 'SMS' }, 0, true)\r\n              .then(res => {\r\n                this.setToken(res)\r\n                this.setUserInfo(res)\r\n                // apiActivity.createLogLogin({ sourceType: 'WEB' })\r\n                this.$router.push({ name: 'Wallet' })\r\n              })\r\n              .catch(error => {\r\n                console.log(error)\r\n                this.isLoading = false\r\n              })\r\n          }\r\n          if (reason === 'FORGET_PASSWORD') {\r\n            apiAuth\r\n              .forgetPassword({ ...data, type: 'EMAIL' })\r\n              .then(code => {\r\n                message = this.$t('notify.verify-success')\r\n                this.$message.success({ message, duration: 5000 })\r\n                this.$router.push({ name: 'reset-password', query: { email, reason: 'FORGET_PASSWORD', code } })\r\n                this.isLoading = false\r\n              })\r\n              .catch(() => {\r\n                this.isLoading = false\r\n              })\r\n          }\r\n\r\n          if (reason === 'CHANGE_PHONE') {\r\n            const params = {\r\n              ...this.$route.query,\r\n              verifyType: 'SMS',\r\n              code: this.form.code\r\n            }\r\n            apiAuth\r\n              .updatePhoneUser(params)\r\n              .then(() => {\r\n                message = this.$t('notify.change-phone-succsess')\r\n                this.$message.success({ message, duration: 5000 })\r\n                this.$router.push({ name: 'login' })\r\n              })\r\n              .catch(() => {\r\n                this.isLoading = false\r\n              })\r\n          }\r\n        }\r\n      })\r\n    }\r\n    getMobileOperatingSystem(): string {\r\n      let userAgent = navigator.userAgent || navigator.vendor\r\n\r\n      // Windows Phone must come first because its UA also contains \"Android\"\r\n      if (/windows phone/i.test(userAgent)) {\r\n        return 'Windows Phone'\r\n      }\r\n\r\n      if (/android/i.test(userAgent)) {\r\n        return 'Android'\r\n      }\r\n\r\n      // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n      if (/iPad|iPhone|iPod/.test(userAgent)) {\r\n        return 'iOS'\r\n      }\r\n\r\n      return 'unknown'\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .btn {\r\n    padding: 12px 0 !important;\r\n    font-size: 16px !important;\r\n    line-height: 24px !important;\r\n  }\r\n  .title-form {\r\n    color: #201f1e;\r\n    margin-bottom: 3px;\r\n  }\r\n  .input-code {\r\n    margin-top: 17px;\r\n    margin-left: 4px;\r\n  }\r\n\r\n  .note-style {\r\n    flex-direction: column;\r\n    text-align: center;\r\n  }\r\n  .use-another-phone {\r\n    margin-top: 12px;\r\n  }\r\n  .use-voice-call {\r\n    margin-top: 0;\r\n  }\r\n\r\n  @media screen and (max-width: 768px) {\r\n    .bc-verify {\r\n      .title-form {\r\n        font-size: 20px;\r\n        line-height: normal;\r\n        margin-bottom: 3.5px;\r\n        color: #0a0b0d;\r\n      }\r\n\r\n      .icon {\r\n        display: none;\r\n      }\r\n\r\n      .text-base {\r\n        font-size: 14px;\r\n        color: #5b616e;\r\n        text-align: center;\r\n        display: block;\r\n      }\r\n\r\n      ::v-deep.no-require-label {\r\n        .el-form-item__label {\r\n          font-size: 14px !important;\r\n          font-weight: 400 !important;\r\n          color: #0a0b0d;\r\n        }\r\n      }\r\n\r\n      .input-code {\r\n        margin-left: 0px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}