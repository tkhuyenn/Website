{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\marketplace\\home\\view\\DetailProject.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\marketplace\\home\\view\\DetailProject.vue","mtime":1660970151675},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IERldGFpbEhlYWRlciBmcm9tICcuLi9jb21wb25lbnRzL2RldGFpbC1wcm9qZWN0L0RldGFpbEhlYWRlci52dWUnCmltcG9ydCBEZXRhaWxDb250ZW50IGZyb20gJy4uL2NvbXBvbmVudHMvZGV0YWlsLXByb2plY3QvRGV0YWlsQ29udGVudC52dWUnCmltcG9ydCBGb290ZXJNYXJrZXQgZnJvbSAnLi4vY29tcG9uZW50cy9Gb290ZXIudnVlJwppbXBvcnQgTWFya2V0UmVwb3NpdG9yeSBmcm9tICdAL3NlcnZpY2VzL3JlcG9zaXRvcmllcy9tYXJrZXRwbGFjZScKaW1wb3J0IGdldFJlcG9zaXRvcnkgZnJvbSAnQC9zZXJ2aWNlcycKCmltcG9ydCB7IG5hbWVzcGFjZSB9IGZyb20gJ3Z1ZXgtY2xhc3MnCmNvbnN0IGJjTWFya2V0SG9tZSA9IG5hbWVzcGFjZSgnYmNNYXJrZXRQcmltYXJ5SG9tZScpCgpjb25zdCBhcGlNYXJrZXQ6IE1hcmtldFJlcG9zaXRvcnkgPSBnZXRSZXBvc2l0b3J5KCdtYXJrZXQnKQpAQ29tcG9uZW50KHsgY29tcG9uZW50czogeyBEZXRhaWxIZWFkZXIsIERldGFpbENvbnRlbnQsIEZvb3Rlck1hcmtldCB9IH0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldGFpbFByb2plY3QgZXh0ZW5kcyBWdWUgewogIEBiY01hcmtldEhvbWUuQWN0aW9uKCdzZXRNZXRhRGF0YScpIHNldE1ldGFEYXRhITogKGxpc3Q6IEFycmF5PEFycmF5PFJlY29yZDxzdHJpbmcsIGFueT4+PikgPT4gdm9pZAogIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fQogIGlzTG9hZGluZyA9IGZhbHNlCiAgaXNGYXZvdXJpdGUgPSBmYWxzZQoKICBhc3luYyBjcmVhdGVkKCk6IFByb21pc2U8dm9pZD4gewogICAgYXdhaXQgdGhpcy5nZXRNZXRhRGF0YSgpCiAgICBhd2FpdCB0aGlzLmluaXQoKQogIH0KICBAV2F0Y2goJyRyb3V0ZS5wYXJhbXMudHlwZScpIHdhdGNoUm91dGVyKF9uZXc6IHN0cmluZyk6IHZvaWQgewogICAgaWYgKF9uZXcpIHsKICAgICAgdGhpcy5pbml0KCkKICAgIH0KICB9CgogIEBXYXRjaCgnJHJvdXRlLnBhcmFtcy5pZCcpIHdhdGNoUm91dGVySWQoX25ldzogc3RyaW5nKTogdm9pZCB7CiAgICBpZiAoX25ldykgewogICAgICB0aGlzLmluaXQoKQogICAgfQogIH0KCiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHsKICAgIHRyeSB7CiAgICAgIGlmICh0aGlzLmlzTG9hZGluZykgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCkKICAgICAgY29uc3QgdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy50eXBlCiAgICAgIHRoaXMuZGF0YSA9IGF3YWl0IGFwaU1hcmtldC5nZXREZXRhaWwodHlwZSwgdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICBpZiAodHlwZSA9PT0gJ3Byb2plY3QnKSB7CiAgICAgICAgdGhpcy5pc0Zhdm91cml0ZSA9IHRoaXMuZGF0YS5wcm9qZWN0LmlzRmF2b3VyaXRlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0Zhdm91cml0ZSA9IHRoaXMuZGF0YS5wcm9kdWN0LmlzRmF2b3VyaXRlCiAgICAgIH0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgIH0KICB9CiAgYXN5bmMgZ2V0TWV0YURhdGEoKTogUHJvbWlzZTx2b2lkPiB7CiAgICB0cnkgewogICAgICBjb25zdCBhcGkxID0gYXBpTWFya2V0LmdldFN5c3RlbXBhcmFtKHsgdHlwZTogJ0JMT0NLX01FVEFfREFUQScgfSkKICAgICAgY29uc3QgYXBpMiA9IGFwaU1hcmtldC5nZXRTeXN0ZW1wYXJhbSh7IHR5cGU6ICdQUk9EVUNUX01FVEFfREFUQScgfSkKICAgICAgY29uc3QgYXBpMyA9IGFwaU1hcmtldC5nZXRTeXN0ZW1wYXJhbSh7IHR5cGU6ICdQUk9KRUNUX01FVEFfREFUQScgfSkKICAgICAgY29uc3QgYXBpNCA9IGFwaU1hcmtldC5nZXRTeXN0ZW1wYXJhbSh7IHR5cGU6ICdGRUFUVVJFJyB9KQogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChbYXBpMSwgYXBpMiwgYXBpMywgYXBpNF0pCiAgICAgIHRoaXMuc2V0TWV0YURhdGEocmVzdWx0KQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICB9CiAgfQoKICBoYW5kbGVGYXZvdXJpdGUoKTogdm9pZCB7CiAgICB0aGlzLmlzRmF2b3VyaXRlID0gIXRoaXMuaXNGYXZvdXJpdGUKICB9Cn0K"},{"version":3,"sources":["DetailProject.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"DetailProject.vue","sourceRoot":"src/modules/marketplace/home/view","sourcesContent":["<template>\r\n  <div class=\"wrap-detail\" v-loading=\"isLoading\">\r\n    <detail-header :project=\"data.project\" :product=\"data.product\" :mediaList=\"data.mediaList\" :isFavourite=\"isFavourite\" @favourite=\"handleFavourite\" />\r\n    <detail-content :data=\"data\" v-if=\"!isLoading\" />\r\n    <footer-market />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n  import { Component, Vue, Watch } from 'vue-property-decorator'\r\n  import DetailHeader from '../components/detail-project/DetailHeader.vue'\r\n  import DetailContent from '../components/detail-project/DetailContent.vue'\r\n  import FooterMarket from '../components/Footer.vue'\r\n  import MarketRepository from '@/services/repositories/marketplace'\r\n  import getRepository from '@/services'\r\n\r\n  import { namespace } from 'vuex-class'\r\n  const bcMarketHome = namespace('bcMarketPrimaryHome')\r\n\r\n  const apiMarket: MarketRepository = getRepository('market')\r\n  @Component({ components: { DetailHeader, DetailContent, FooterMarket } })\r\n  export default class DetailProject extends Vue {\r\n    @bcMarketHome.Action('setMetaData') setMetaData!: (list: Array<Array<Record<string, any>>>) => void\r\n    data: Record<string, any> = {}\r\n    isLoading = false\r\n    isFavourite = false\r\n\r\n    async created(): Promise<void> {\r\n      await this.getMetaData()\r\n      await this.init()\r\n    }\r\n    @Watch('$route.params.type') watchRouter(_new: string): void {\r\n      if (_new) {\r\n        this.init()\r\n      }\r\n    }\r\n\r\n    @Watch('$route.params.id') watchRouterId(_new: string): void {\r\n      if (_new) {\r\n        this.init()\r\n      }\r\n    }\r\n\r\n    async init(): Promise<void> {\r\n      try {\r\n        if (this.isLoading) {\r\n          return\r\n        }\r\n        this.isLoading = true\r\n        window.scrollTo(0, 0)\r\n        const type = this.$route.params.type\r\n        this.data = await apiMarket.getDetail(type, this.$route.params.id)\r\n        if (type === 'project') {\r\n          this.isFavourite = this.data.project.isFavourite\r\n        } else {\r\n          this.isFavourite = this.data.product.isFavourite\r\n        }\r\n        this.isLoading = false\r\n      } catch (error) {\r\n        this.isLoading = false\r\n        console.log(error)\r\n      }\r\n    }\r\n    async getMetaData(): Promise<void> {\r\n      try {\r\n        const api1 = apiMarket.getSystemparam({ type: 'BLOCK_META_DATA' })\r\n        const api2 = apiMarket.getSystemparam({ type: 'PRODUCT_META_DATA' })\r\n        const api3 = apiMarket.getSystemparam({ type: 'PROJECT_META_DATA' })\r\n        const api4 = apiMarket.getSystemparam({ type: 'FEATURE' })\r\n        const result = await Promise.all([api1, api2, api3, api4])\r\n        this.setMetaData(result)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    handleFavourite(): void {\r\n      this.isFavourite = !this.isFavourite\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .wrap-detail {\r\n    padding-top: 80px;\r\n  }\r\n</style>\r\n"]}]}