{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\mobileSetting\\MobileActivity.vue?vue&type=style&index=0&id=1f71841b&scoped=true&lang=scss&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\mobileSetting\\MobileActivity.vue","mtime":1660123011569},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660970368992},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660970411845},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\postcss-loader\\src\\index.js","mtime":1660970387688},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660970364303},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouc2V0dGluZy1hY3Rpdml0eS1tb2JpbGUgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1iYy1jb2xvci13aGl0ZSk7DQogIHBhZGRpbmc6IDI0cHggMjBweDsNCiAgYm94LXNoYWRvdzogdmFyKC0tYmMtYm94LXNoYWRvdyk7DQogIGJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4Ow0KICAudGl0bGUtYm94IHsNCiAgICBjb2xvcjogdmFyKC0tYmMtdGV4dC1wcmltYXJ5KTsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICBsaW5lLWhlaWdodDogMjRweDsNCiAgfQ0KICAuZGlzY3JpcHRpb24gew0KICAgIGNvbG9yOiB2YXIoLS1iYy10ZXh0LWRpc2NyaXB0KTsNCiAgICBmb250LXdlaWdodDogNDAwOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBsaW5lLWhlaWdodDogMjBweDsNCiAgICBtYXJnaW4tdG9wOiAxMnB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDI0cHg7DQogIH0NCg0KICA6OnYtZGVlcC5iYXNlLXRhYmxlIC5lbC10YWJsZV9faGVhZGVyLXdyYXBwZXIgLmVsLXRhYmxlX19oZWFkZXIgdGhlYWQgdGh7DQogICAgcGFkZGluZzogMTRweCAwOw0KICB9DQoNCiAgOjp2LWRlZXAuYmFzZS10YWJsZSAuZWwtdGFibGVfX2hlYWRlci13cmFwcGVyIC5lbC10YWJsZV9faGVhZGVyIHRoZWFkIHRoIC5jZWxsew0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyMHB4Ow0KICAgIGNvbG9yOiAjMEEwQjBEOw0KICB9DQogIDo6di1kZWVwLmJhc2UtdGFibGUgdGQgew0KICAgIHBhZGRpbmc6IDE0cHggMCAhaW1wb3J0YW50Ow0KICB9DQogIDo6di1kZWVwLmVsLXRhYmxlIHRkLmVsLXRhYmxlX19jZWxsIC5jZWxsew0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyMHB4Ow0KICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgY29sb3I6ICMwQTBCMEQ7DQogIH0NCiAgOjp2LWRlZXAuZWwtdGFibGUtLXNjcm9sbGFibGUteCAuZWwtdGFibGVfX2JvZHktd3JhcHBlcnsNCiAgICBvdmVyZmxvdy14OiBhdXRvOw0KICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTsNCiAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7DQogIH0NCiAgOjp2LWRlZXAuZWwtdGFibGUtLXNjcm9sbGFibGUteCAuZWwtdGFibGVfX2JvZHktd3JhcHBlcjo6LXdlYmtpdC1zY3JvbGxiYXJ7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KICAubGluayB7DQogICAgY29sb3I6IHZhcigtLWJjLWJ0bi1iZy1kZWZhdWx0LWhvdmVyKTsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogIH0NCiAgLmhyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmMtaW5wdXQtYm9yZGVyKTsNCiAgICBtYXJnaW46IDMycHggMDsNCiAgfQ0KICAuYm94LW1vYmlsZS1hcHAsDQogIC5ib3gtc2Vzc2lvbnMgew0KICAgIC5hY3Rpb24gew0KICAgICAgY29sb3I6IHZhcigtLWJjLXRleHQtZGlzY3JpcHQpOw0KICAgICAgJjpob3ZlciB7DQogICAgICAgIGNvbG9yOiB2YXIoLS1iYy1idG4tYmctZGVmYXVsdCk7DQogICAgICB9DQogICAgICAmOmZvY3VzIHsNCiAgICAgICAgY29sb3I6IHZhcigtLWJjLWJ0bi1iZy1kZWZhdWx0KTsNCiAgICAgIH0NCiAgICAgICY6YWN0aXZlIHsNCiAgICAgICAgY29sb3I6IHZhcigtLWJjLWJ0bi1iZy1kZWZhdWx0KTsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KfQ0K"},{"version":3,"sources":["MobileActivity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"MobileActivity.vue","sourceRoot":"src/modules/setting/components/mobileSetting","sourcesContent":["<template>\r\n  <div class=\"setting-activity-mobile\">\r\n    <div class=\"box-mobile-app\">\r\n      <div class=\"title-box\">{{ $t('setting.activity.title1') }}</div>\r\n      <div class=\"discription\">{{ $t('setting.activity.discript3') }}</div>\r\n      <base-table :data=\"dataTableMobile\" :showPagination=\"false\">\r\n        <el-table-column label=\"#\" type=\"index\" align=\"center\" width=\"40\" />\r\n        <el-table-column :label=\"$t('setting.activity.signedIn')\" prop=\"createdAt\" width=\"150px\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.createdAt | timeAgo }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('setting.activity.ipAddress')\" prop=\"ipAddress\" min-width=\"145px\"/>\r\n        <el-table-column :label=\"$t('setting.activity.source')\" prop=\"deviceName\" width=\"150\" />\r\n        <el-table-column :label=\"$t('setting.activity.location')\" prop=\"metaDescription\" min-width=\"250\"/>\r\n        <el-table-column :label=\"$t('setting.activity.current')\" width=\"164\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"action\">\r\n              <base-icon v-if=\"scope.row.id === activityMobileCurent.id\" icon=\"iconSuccess\"></base-icon>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"\" width=\"40\" align=\"right\">\r\n          <template align=\"right\" slot-scope=\"scope\">\r\n            <div class=\"action\" @click=\"handleDeleteActivity(scope.row, 'mobile')\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"Sign out\" placement=\"bottom\">\r\n                <base-icon icon=\"iconDelete\"></base-icon>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </base-table>\r\n    </div>\r\n    <div class=\"hr\" />\r\n    <div class=\"box-sessions\">\r\n      <div class=\"title-box\">{{ $t('setting.activity.title2') }}</div>\r\n      <div class=\"discription\">\r\n        {{ $t('setting.activity.discript4') }} <span class=\"link\" @click=\"handleOpenPopup\">{{ $t('setting.activity.discript5') }}</span>\r\n      </div>\r\n      <base-table :data=\"activityWeb\" :showPagination=\"false\">\r\n        <el-table-column label=\"#\" type=\"index\" align=\"center\" width=\"40\"/>\r\n        <el-table-column :label=\"$t('setting.activity.signedIn')\" prop=\"createdAt\" width=\"150px\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.createdAt | timeAgo }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('setting.activity.ipAddress')\" prop=\"ipAddress\" min-width=\"145px\"/>\r\n        <el-table-column :label=\"$t('setting.activity.source')\" prop=\"deviceName\" width=\"150\" />\r\n        <el-table-column :label=\"$t('setting.activity.location')\" prop=\"metaDescription\" min-width=\"250\"/>\r\n        <el-table-column :label=\"$t('setting.activity.current')\" width=\"164\" align=\"center\">\r\n          <template align=\"right\" slot-scope=\"scope\">\r\n            <div class=\"action\">\r\n              <base-icon v-if=\"scope.row.id === activityWebCurent.id\" icon=\"iconSuccess\"></base-icon>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"\" width=\"40\" align=\"right\">\r\n          <template align=\"right\" slot-scope=\"scope\">\r\n            <div class=\"action\" @click=\"handleDeleteActivity(scope.row)\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('setting.activity.sign-out')\" placement=\"bottom\">\r\n                <base-icon icon=\"iconDelete\"></base-icon>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </base-table>\r\n    </div>\r\n    <popup-confirm @confirm=\"handleDeleteAllActivity\" />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Mixins } from 'vue-property-decorator'\r\nimport getRepository from '@/services'\r\nimport { ActivityRepository } from '@/services/repositories/activity'\r\nimport filter from 'lodash/filter'\r\nimport PopupMixin from '@/mixins/popup'\r\nimport PopupConfirm from '../../components/popup/PopupConfirm.vue'\r\n\r\nconst apiActivity: ActivityRepository = getRepository('activity')\r\n@Component({ components: { PopupConfirm } })\r\nexport default class MobileActivity extends Mixins(PopupMixin) {\r\n  dataTable: Array<Record<string, any>> = []\r\n  activityWebCurent: Record<string, any> = {}\r\n  activityMobileCurent: Record<string, any> = {}\r\n  dataTableMobile: Array<Record<string, any>> = []\r\n  get activityMobiLe(): Array<Record<string, any>> {\r\n    return filter(this.dataTable, elm => elm.sourceType === 'MOBILE')\r\n  }\r\n\r\n  get activityWeb(): Array<Record<string, any>> {\r\n    return filter(this.dataTable, elm => elm.sourceType === 'WEB')\r\n  }\r\n\r\n  created(): void {\r\n    apiActivity.getListActivity({ sourceType: 'WEB' }).then(res => {\r\n      this.dataTable = res.content\r\n      this.activityWebCurent = filter(this.dataTable, elm => elm.sourceType === 'WEB')[0]\r\n    })\r\n    apiActivity.getListActivity({ sourceType: 'MOBILE' }).then(res => {\r\n      this.dataTableMobile = res.content\r\n      this.activityMobileCurent = filter(this.dataTableMobile, elm => elm.sourceType === 'MOBILE')[0]\r\n    })\r\n  }\r\n\r\n  handleDeleteActivity(row: Record<string, any>, type = 'web'): void {\r\n    apiActivity.deleteActivity(row.id).then(() => {\r\n      let message: any = this.$i18n.t('notify.delete-success')\r\n      this.$message.success(message)\r\n      if (type === 'web') {\r\n        this.dataTable = filter(this.dataTable, elm => elm.id !== row.id)\r\n      } else {\r\n        this.dataTableMobile = filter(this.dataTableMobile, elm => elm.id !== row.id)\r\n      }\r\n    })\r\n  }\r\n\r\n  handleOpenPopup(): void {\r\n    this.setOpenPopup({\r\n      popupName: 'popup-confirm-activity',\r\n      isOpen: true\r\n    })\r\n  }\r\n\r\n  handleDeleteAllActivity(): void {\r\n    apiActivity.deleteAllActivity().then(() => {\r\n      let message: any = this.$i18n.t('notify.delete-success')\r\n      this.$message.success(message)\r\n      this.dataTable = filter(this.dataTable, elm => elm.sourceType !== 'WEB')\r\n      this.dataTable.push(this.activityWebCurent)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.setting-activity-mobile {\r\n  background: var(--bc-color-white);\r\n  padding: 24px 20px;\r\n  box-shadow: var(--bc-box-shadow);\r\n  border-radius: 0 0 4px 4px;\r\n  .title-box {\r\n    color: var(--bc-text-primary);\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n    line-height: 24px;\r\n  }\r\n  .discription {\r\n    color: var(--bc-text-discript);\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    margin-top: 12px;\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  ::v-deep.base-table .el-table__header-wrapper .el-table__header thead th{\r\n    padding: 14px 0;\r\n  }\r\n\r\n  ::v-deep.base-table .el-table__header-wrapper .el-table__header thead th .cell{\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    color: #0A0B0D;\r\n  }\r\n  ::v-deep.base-table td {\r\n    padding: 14px 0 !important;\r\n  }\r\n  ::v-deep.el-table td.el-table__cell .cell{\r\n    white-space: nowrap;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    font-weight: 400;\r\n    color: #0A0B0D;\r\n  }\r\n  ::v-deep.el-table--scrollable-x .el-table__body-wrapper{\r\n    overflow-x: auto;\r\n    -ms-overflow-style: none;\r\n    scrollbar-width: none;\r\n  }\r\n  ::v-deep.el-table--scrollable-x .el-table__body-wrapper::-webkit-scrollbar{\r\n    display: none;\r\n  }\r\n  .link {\r\n    color: var(--bc-btn-bg-default-hover);\r\n    cursor: pointer;\r\n  }\r\n  .hr {\r\n    width: 100%;\r\n    border-top: 1px solid var(--bc-input-border);\r\n    margin: 32px 0;\r\n  }\r\n  .box-mobile-app,\r\n  .box-sessions {\r\n    .action {\r\n      color: var(--bc-text-discript);\r\n      &:hover {\r\n        color: var(--bc-btn-bg-default);\r\n      }\r\n      &:focus {\r\n        color: var(--bc-btn-bg-default);\r\n      }\r\n      &:active {\r\n        color: var(--bc-btn-bg-default);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n"]}]}