{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\view\\Quota.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\view\\Quota.vue","mtime":1660123011579},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\babel-loader\\lib\\index.js","mtime":1660970387821},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\ts-loader\\index.js","mtime":1660970390648},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIE1peGlucyB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCBQb3B1cE1peGluIGZyb20gJ0AvbWl4aW5zL3BvcHVwJwppbXBvcnQgUG9wdXBDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXAvUG9wdXBDb25maXJtLnZ1ZScKaW1wb3J0IGZpbHRlciBmcm9tICdsb2Rhc2gvZmlsdGVyJwppbXBvcnQgRXZlbnRCdXMgZnJvbSAnQC91dGlscy9ldmVudEJ1cycKaW1wb3J0IHsgQXV0aFJlcG9zaXRvcnkgfSBmcm9tICdAL3NlcnZpY2VzL3JlcG9zaXRvcmllcy9hdXRoJwppbXBvcnQgZ2V0UmVwb3NpdG9yeSBmcm9tICdAL3NlcnZpY2VzJwppbXBvcnQgeyBTZXR0aW5nUmVwb3NpdG9yeSB9IGZyb20gJ0Avc2VydmljZXMvcmVwb3NpdG9yaWVzL3NldHRpbmcnCgpjb25zdCBhcGk6IFNldHRpbmdSZXBvc2l0b3J5ID0gZ2V0UmVwb3NpdG9yeSgnc2V0dGluZycpCgpAQ29tcG9uZW50KHsgY29tcG9uZW50czogeyBQb3B1cENvbmZpcm0gfSB9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBRdW90YSBleHRlbmRzIE1peGlucyhQb3B1cE1peGluKSB7CiAgYXBpQXV0aCE6IEF1dGhSZXBvc2l0b3J5CiAgZGF0YVRhYmVsOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9IFtdCiAgZ2V0U2NvcGUobnVtYmVyOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7CiAgICBsZXQgbnVtOiBhbnkgPSAnJwogICAgaWYgKCFpc05hTihOdW1iZXIobnVtYmVyKSkpIHsKICAgICAgbnVtID0gJyQnICsgdGhpcy4kb3B0aW9ucy5maWx0ZXJzPy5udW1iZXJXaXRoQ29tbWFzKG51bWJlcikKICAgIH0gZWxzZSB7CiAgICAgIG51bSA9IG51bWJlcgogICAgfQogICAgcmV0dXJuIG51bQogIH0KICB0aXRsZSA9ICcnCiAgZ2V0VGl0bGUodmFsdWU6IHN0cmluZyk6IHZvaWQgewogICAgaWYgKHZhbHVlID09ICcwJykgewogICAgICB0aGlzLnRpdGxlID0gJ3RoYW5obnQxOTgnCiAgICB9CiAgICAvLyBpZiAobmFtZSA9PT0gJ3ZlcmlmeS1waG9uZScpIHsKICAgIC8vICAgcmV0dXJuICd2ZXJpZnktcGhvbmUnCiAgICAvLyB9CiAgICAvLyBpZiAobmFtZSA9PT0gJ3ZlcmlmeS1lbWFpbCcpIHsKICAgIC8vICAgcmV0dXJuICd2ZXJpZnktZW1haWwnCiAgICAvLyB9CiAgICAvLyByZXR1cm4gJ3ZlcmlmeS1hcHAnCiAgfQogIGdldEdyb3VwTmFtZShsZXZlbDogUmVjb3JkPHN0cmluZywgYW55Pik6IHN0cmluZyB7CiAgICBpZiAobGV2ZWwuZ3JvdXBOYW1lICE9PSAnRGVmYXVsdCcpIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoJ3NldHRpbmcucXVvdGEubGV2ZWwnLCB7IGxldmVsOiBsZXZlbC5ncm91cE5hbWUubWF0Y2goL1xkKy8pWzBdIH0pIGFzIHN0cmluZwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMuJHQoJ3NldHRpbmcucXVvdGEuZGVmYXVsdCcpIGFzIHN0cmluZwogICAgfQogIH0KICBsb2NhbFRyYWRlKHJvdzogYW55KTogdm9pZCB7CiAgICBsZXQgbG9jYWw6IGFueSA9ICcnCiAgICBpZiAocm93LnRvdGFsVHJhZGUpIHsKICAgICAgbG9jYWwgPSB0aGlzLiR0KCdzZXR0aW5nLnF1b3RhLnRleHRUYWJlbCcpICsgJyAkJyArIHRoaXMuJG9wdGlvbnMuZmlsdGVycz8ubnVtYmVyV2l0aENvbW1hcyhyb3cudG90YWxUcmFkZSkKICAgIH0gZWxzZSB7CiAgICAgIGlmIChyb3cuZ3JvdXBOYW1lID09ICdEZWZhdWx0JykgewogICAgICAgIGxvY2FsID0gdGhpcy4kdCgnc2V0dGluZy5xdW90YS50ZXh0VGFiZWwxJykKICAgICAgfQogICAgICBpZiAocm93Lmdyb3VwTmFtZSA9PSAnTEVWRUwgMScpIHsKICAgICAgICBsb2NhbCA9IHRoaXMuJHQoJ3NldHRpbmcucXVvdGEudGV4dFRhYmVsMicpCiAgICAgIH0KICAgIH0KICAgIHJldHVybiBsb2NhbAogIH0KICBhc3luYyBnZXREYXRhVGFiZWwoKTogUHJvbWlzZTxhbnk+IHsKICAgIGFwaS5saW1pdERldGFpbHMoKS50aGVuKChyZXM6IGFueSkgPT4gewogICAgICB0aGlzLmRhdGFUYWJlbCA9IHJlcwogICAgfSkKICB9CiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPGFueT4gewogICAgYXdhaXQgdGhpcy5nZXREYXRhVGFiZWwoKQogIH0KICBnZXRMZXZlbFVzZXIodXNlckdyb3VwSWQ6IHN0cmluZyB8IG51bWJlcik6IHN0cmluZyB7CiAgICBjb25zdCBsZXZlbCA9IGZpbHRlcih0aGlzLmRhdGFUYWJlbCwgbGV2ZWwgPT4gbGV2ZWwuaWQgPT0gdXNlckdyb3VwSWQpWzBdCiAgICBpZiAobGV2ZWwpIHsKICAgICAgaWYgKGxldmVsLmdyb3VwTmFtZSAhPT0gJ0RlZmF1bHQnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ3NldHRpbmcucXVvdGEubGV2ZWwnLCB7IGxldmVsOiBsZXZlbC5ncm91cE5hbWUubWF0Y2goL1xkKy8pWzBdIH0pIGFzIHN0cmluZwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLiR0KCdzZXR0aW5nLnF1b3RhLmRlZmF1bHQnKSBhcyBzdHJpbmcKICAgICAgfQogICAgfQogICAgcmV0dXJuICcnCiAgfQogIGNyZWF0ZWQoKTogdm9pZCB7CiAgICB0aGlzLmFwaUF1dGggPSBnZXRSZXBvc2l0b3J5KCdhdXRoJykKICAgIHRoaXMuZ2V0VXNlcigpCiAgICB0aGlzLmluaXQoKQogIH0KICBsZXZlbCA9ICcnCiAgZ2V0VXNlcigpOiB2b2lkIHsKICAgIHRoaXMuYXBpQXV0aAogICAgICA/LmdldEluZm8oKQogICAgICAudGhlbigocmVzOiBhbnkpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygncmVzJywgcmVzKQogICAgICAgIGNvbnNvbGUubG9nKCd0aGFuaCcsIHJlcy51c2VyR3JvdXBJZCkKICAgICAgICB0aGlzLmxldmVsID0gcmVzLnVzZXJHcm91cElkCiAgICAgIH0pCiAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9KQogIH0KICBzZWxlY3RMYW5ndWFnZSgpOnN0cmluZyB7CiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYy1sYW5nJykgYXMgc3RyaW5nCiAgfQp9Cg=="},{"version":3,"sources":["Quota.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Quota.vue","sourceRoot":"src/modules/setting/view","sourcesContent":["<template>\r\n  <div class=\"setting-quota\">\r\n    <div class=\"title-box\">{{ $t('setting.quota.title1') }}</div>\r\n    <div class=\"be-flex align-center\" style=\"margin-top: 8px\">\r\n      <div class=\"discription inline\" style=\"margin-top: 0\">{{ $t('setting.quota.discript1') }}</div>\r\n      <div class=\"box-level\">{{ getLevelUser(level) }}</div>\r\n    </div>\r\n    <div class=\"discription\">{{ $t('setting.quota.discript2') }}</div>\r\n    <div class=\"line\"></div>\r\n    <div class=\"title-box mgt-24 mgb-20\">{{ $t('setting.quota.title2') }}</div>\r\n    <base-table :data=\"dataTabel\" :showPagination=\"false\" class=\"base-table table-wallet\">\r\n      <el-table-column prop=\"groupName\" :label=\"$t('setting.quota.labelTabel1')\" align=\"left\" :width=\"selectLanguage() === 'ru' ? 140 : 90\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ getGroupName(scope.row) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"totalTrade\" :label=\"$t('setting.quota.labelTabel2')\" align=\"left\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ localTrade(scope.row) }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"depositLimit\" :label=\"$t('setting.quota.labelTabel3')\" :width=\"selectLanguage() === 'ru' ? 160 : 140\" align=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.depositLimit ? scope.row.depositLimit : $t('setting.quota.unLimit') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"buyLimit\" :label=\"$t('setting.quota.labelTabel4')\" :width=\"selectLanguage() === 'ru' ? 160 : 140\" align=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.buyLimit == 0\">{{ getScope(scope.row.buyLimit) }}</span>\r\n          <span v-else>{{ scope.row.buyLimit ? getScope(scope.row.buyLimit) : $t('setting.quota.unLimit') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"withdrawLimit\" :label=\"$t('setting.quota.labelTabel5')\" :width=\"selectLanguage() === 'ru' ? 160 : 140\" align=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <!-- <span>{{ getScope(scope.row.withdrawLimit) }}</span> -->\r\n          <span v-if=\"scope.row.withdrawLimit == 0\">{{ getScope(scope.row.withdrawLimit) }}</span>\r\n          <span v-else>{{ scope.row.withdrawLimit ? getScope(scope.row.withdrawLimit) : $t('setting.quota.unLimit') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"sellLimit\" :label=\"$t('setting.quota.labelTabel6')\" :width=\"selectLanguage() === 'ru' ? 160 : 140\" align=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <!-- <span>{{ getScope(scope.row.sellLimit) }}</span> -->\r\n          <span v-if=\"scope.row.sellLimit == 0\">{{ getScope(scope.row.sellLimit) }}</span>\r\n          <span v-else>{{ scope.row.sellLimit ? getScope(scope.row.sellLimit) : $t('setting.quota.unLimit') }}</span>\r\n        </template>\r\n      </el-table-column>\r\n    </base-table>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n  import { Component, Mixins } from 'vue-property-decorator'\r\n  import PopupMixin from '@/mixins/popup'\r\n  import PopupConfirm from '../components/popup/PopupConfirm.vue'\r\n  import filter from 'lodash/filter'\r\n  import EventBus from '@/utils/eventBus'\r\n  import { AuthRepository } from '@/services/repositories/auth'\r\n  import getRepository from '@/services'\r\n  import { SettingRepository } from '@/services/repositories/setting'\r\n\r\n  const api: SettingRepository = getRepository('setting')\r\n\r\n  @Component({ components: { PopupConfirm } })\r\n  export default class Quota extends Mixins(PopupMixin) {\r\n    apiAuth!: AuthRepository\r\n    dataTabel: Array<Record<string, any>> = []\r\n    getScope(number: Record<string, any>): void {\r\n      let num: any = ''\r\n      if (!isNaN(Number(number))) {\r\n        num = '$' + this.$options.filters?.numberWithCommas(number)\r\n      } else {\r\n        num = number\r\n      }\r\n      return num\r\n    }\r\n    title = ''\r\n    getTitle(value: string): void {\r\n      if (value == '0') {\r\n        this.title = 'thanhnt198'\r\n      }\r\n      // if (name === 'verify-phone') {\r\n      //   return 'verify-phone'\r\n      // }\r\n      // if (name === 'verify-email') {\r\n      //   return 'verify-email'\r\n      // }\r\n      // return 'verify-app'\r\n    }\r\n    getGroupName(level: Record<string, any>): string {\r\n      if (level.groupName !== 'Default') {\r\n        return this.$t('setting.quota.level', { level: level.groupName.match(/\\d+/)[0] }) as string\r\n      } else {\r\n        return this.$t('setting.quota.default') as string\r\n      }\r\n    }\r\n    localTrade(row: any): void {\r\n      let local: any = ''\r\n      if (row.totalTrade) {\r\n        local = this.$t('setting.quota.textTabel') + ' $' + this.$options.filters?.numberWithCommas(row.totalTrade)\r\n      } else {\r\n        if (row.groupName == 'Default') {\r\n          local = this.$t('setting.quota.textTabel1')\r\n        }\r\n        if (row.groupName == 'LEVEL 1') {\r\n          local = this.$t('setting.quota.textTabel2')\r\n        }\r\n      }\r\n      return local\r\n    }\r\n    async getDataTabel(): Promise<any> {\r\n      api.limitDetails().then((res: any) => {\r\n        this.dataTabel = res\r\n      })\r\n    }\r\n    async init(): Promise<any> {\r\n      await this.getDataTabel()\r\n    }\r\n    getLevelUser(userGroupId: string | number): string {\r\n      const level = filter(this.dataTabel, level => level.id == userGroupId)[0]\r\n      if (level) {\r\n        if (level.groupName !== 'Default') {\r\n          return this.$t('setting.quota.level', { level: level.groupName.match(/\\d+/)[0] }) as string\r\n        } else {\r\n          return this.$t('setting.quota.default') as string\r\n        }\r\n      }\r\n      return ''\r\n    }\r\n    created(): void {\r\n      this.apiAuth = getRepository('auth')\r\n      this.getUser()\r\n      this.init()\r\n    }\r\n    level = ''\r\n    getUser(): void {\r\n      this.apiAuth\r\n        ?.getInfo()\r\n        .then((res: any) => {\r\n          console.log('res', res)\r\n          console.log('thanh', res.userGroupId)\r\n          this.level = res.userGroupId\r\n        })\r\n        .catch(e => {\r\n          console.log(e)\r\n        })\r\n    }\r\n    selectLanguage():string {\r\n      return window.localStorage.getItem('bc-lang') as string\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .setting-quota {\r\n    background: var(--bc-color-white);\r\n    padding: 24px;\r\n    box-shadow: var(--bc-box-shadow);\r\n    border-radius: 0 0 4px 4px;\r\n    margin-bottom: 24px;\r\n    .title-box {\r\n      color: var(--bc-text-primary);\r\n      font-weight: 600;\r\n      font-size: 24px;\r\n      line-height: 32px;\r\n    }\r\n    .discription {\r\n      color: var(--bc-text-discript2);\r\n      font-weight: 400;\r\n      font-size: 16px;\r\n      line-height: 20px;\r\n      margin-top: 8px;\r\n    }\r\n    .inline {\r\n      display: inline-block;\r\n    }\r\n    .box-level {\r\n      display: inline-block;\r\n      border-radius: 4px;\r\n      width: 80px;\r\n      height: 24px;\r\n      background: #e4f9e2;\r\n      text-align: center;\r\n      color: #129961;\r\n      line-height: 24px;\r\n      margin-left: 8px;\r\n      font-weight: 500;\r\n      font-size: 12px;\r\n    }\r\n    .line {\r\n      margin-top: 24px;\r\n      border-top: 1px solid var(--bc-btn-border);\r\n    }\r\n    .mgt-24 {\r\n      margin-top: 24px;\r\n    }\r\n    .mgb-20 {\r\n      margin-bottom: 8px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}