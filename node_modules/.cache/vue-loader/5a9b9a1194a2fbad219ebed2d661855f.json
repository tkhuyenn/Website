{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\marketplace\\home\\view\\DetailProject.vue?vue&type=style&index=0&id=2de2bc19&scoped=true&lang=scss&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\marketplace\\home\\view\\DetailProject.vue","mtime":1660970151675},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660970368992},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660970411845},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\postcss-loader\\src\\index.js","mtime":1660970387688},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660970364303},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud3JhcC1kZXRhaWwgewogIHBhZGRpbmctdG9wOiA4MHB4Owp9Cg=="},{"version":3,"sources":["DetailProject.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA","file":"DetailProject.vue","sourceRoot":"src/modules/marketplace/home/view","sourcesContent":["<template>\r\n  <div class=\"wrap-detail\" v-loading=\"isLoading\">\r\n    <detail-header :project=\"data.project\" :product=\"data.product\" :mediaList=\"data.mediaList\" :isFavourite=\"isFavourite\" @favourite=\"handleFavourite\" />\r\n    <detail-content :data=\"data\" v-if=\"!isLoading\" />\r\n    <footer-market />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n  import { Component, Vue, Watch } from 'vue-property-decorator'\r\n  import DetailHeader from '../components/detail-project/DetailHeader.vue'\r\n  import DetailContent from '../components/detail-project/DetailContent.vue'\r\n  import FooterMarket from '../components/Footer.vue'\r\n  import MarketRepository from '@/services/repositories/marketplace'\r\n  import getRepository from '@/services'\r\n\r\n  import { namespace } from 'vuex-class'\r\n  const bcMarketHome = namespace('bcMarketPrimaryHome')\r\n\r\n  const apiMarket: MarketRepository = getRepository('market')\r\n  @Component({ components: { DetailHeader, DetailContent, FooterMarket } })\r\n  export default class DetailProject extends Vue {\r\n    @bcMarketHome.Action('setMetaData') setMetaData!: (list: Array<Array<Record<string, any>>>) => void\r\n    data: Record<string, any> = {}\r\n    isLoading = false\r\n    isFavourite = false\r\n\r\n    async created(): Promise<void> {\r\n      await this.getMetaData()\r\n      await this.init()\r\n    }\r\n    @Watch('$route.params.type') watchRouter(_new: string): void {\r\n      if (_new) {\r\n        this.init()\r\n      }\r\n    }\r\n\r\n    @Watch('$route.params.id') watchRouterId(_new: string): void {\r\n      if (_new) {\r\n        this.init()\r\n      }\r\n    }\r\n\r\n    async init(): Promise<void> {\r\n      try {\r\n        if (this.isLoading) {\r\n          return\r\n        }\r\n        this.isLoading = true\r\n        window.scrollTo(0, 0)\r\n        const type = this.$route.params.type\r\n        this.data = await apiMarket.getDetail(type, this.$route.params.id)\r\n        if (type === 'project') {\r\n          this.isFavourite = this.data.project.isFavourite\r\n        } else {\r\n          this.isFavourite = this.data.product.isFavourite\r\n        }\r\n        this.isLoading = false\r\n      } catch (error) {\r\n        this.isLoading = false\r\n        console.log(error)\r\n      }\r\n    }\r\n    async getMetaData(): Promise<void> {\r\n      try {\r\n        const api1 = apiMarket.getSystemparam({ type: 'BLOCK_META_DATA' })\r\n        const api2 = apiMarket.getSystemparam({ type: 'PRODUCT_META_DATA' })\r\n        const api3 = apiMarket.getSystemparam({ type: 'PROJECT_META_DATA' })\r\n        const api4 = apiMarket.getSystemparam({ type: 'FEATURE' })\r\n        const result = await Promise.all([api1, api2, api3, api4])\r\n        this.setMetaData(result)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    handleFavourite(): void {\r\n      this.isFavourite = !this.isFavourite\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .wrap-detail {\r\n    padding-top: 80px;\r\n  }\r\n</style>\r\n"]}]}