{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\App.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\App.vue","mtime":1660970149007},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660970368992},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660970411845},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\postcss-loader\\src\\index.js","mtime":1660970387688},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660970364303},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8vIEBpbXBvcnQgdXJsKCcuL2FjY2V0cy9zdHlsZXMvaW5kZXguc2NzcycpOwo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n  import { Vue, Component, Mixins } from 'vue-property-decorator'\r\n  import getRepository from '@/services'\r\n  import ParamsRepository from '@/services/repositories/params'\r\n  import { namespace } from 'vuex-class'\r\n\r\n  import Moralis from 'moralis'\r\n\r\n  import OnChainMixin from '@/mixins/onchain'\r\n\r\n  const serverUrl = process.env.VUE_APP_KEY_SERVER_URL_MORALIS || ''\r\n  const appId = process.env.VUE_APP_KEY_APPID_MORALIS || ''\r\n\r\n  const apiParams: ParamsRepository = getRepository('params')\r\n  const beBase = namespace('beBase')\r\n  const bcAuth = namespace('beAuth')\r\n\r\n  @Component({\r\n    components: {}\r\n  })\r\n  export default class App extends Mixins(OnChainMixin) {\r\n    @beBase.Action('setSystemParams') setSystemParams!: (data: Record<string, any>) => void\r\n    @beBase.Action('setConfigModule') setConfigModule!: (data: Record<string, any>) => void\r\n    @bcAuth.Action('logout') logout!: (status?: boolean) => Promise<any>\r\n    @bcAuth.Mutation('SET_INFO') setInfo!: (info: Record<string, any>) => Promise<any>\r\n\r\n    created(): void {\r\n      Moralis.start({ serverUrl, appId })\r\n\r\n      if (!this.isLogin) {\r\n        const user = Moralis.User.current()\r\n        if (user) {\r\n          this.setWalletAddress(user.get('ethAddress'))\r\n          // check user thay đổi tài khoản\r\n          window.ethereum.on('accountsChanged', async () => {\r\n            console.log('accountsChanges')\r\n            await Moralis.User.logOut()\r\n            await this.logout(false)\r\n            this.setWalletAddress('')\r\n            this.setInfo({})\r\n            this.$router.push({ name: 'MarketMain' }).catch()\r\n\r\n            if (window.ethereum.removeListener) {\r\n              window.ethereum.removeListener('accountsChanged', () => {\r\n                console.log('remove')\r\n              })\r\n            }\r\n            location.reload()\r\n          })\r\n        } else {\r\n          this.setWalletAddress('')\r\n        }\r\n      }\r\n\r\n      // const isWalletConnect = localStorage.getItem('walletconnect')\r\n      // //isWalletConnect sẽ chỉ có ở mobile\r\n      // if (isWalletConnect) {\r\n      //   this.autoConnect()\r\n      // } else {\r\n      //   const user = Moralis.User.current()\r\n      //   if (user) {\r\n      //     this.setWalletAddress(user.get('ethAddress'))\r\n      //   } else {\r\n      //     this.setWalletAddress('')\r\n      //   }\r\n      // }\r\n\r\n      apiParams.getPramsHeader().then(res => {\r\n        this.setSystemParams(res)\r\n      })\r\n\r\n      const language = window.localStorage.getItem('bc-lang')\r\n      if (!language) {\r\n        window.localStorage.setItem('bc-lang', 'en')\r\n      }\r\n      // if (language === 'vi') {\r\n      //   window.localStorage.setItem('bc-lang', 'en')\r\n      //   location.reload()\r\n      // }\r\n      // window.localStorage.setItem('bc-lang', 'en')\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  // @import url('./accets/styles/index.scss');\r\n</style>\r\n"]}]}