{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\popup\\PopupSetupPin.vue?vue&type=style&index=0&id=4957a9a8&lang=scss&scoped=true&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\modules\\setting\\components\\popup\\PopupSetupPin.vue","mtime":1660123011575},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660970368992},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660970411845},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\postcss-loader\\src\\index.js","mtime":1660970387688},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660970364303},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBvcHVwLXNldHVwLXBpbiB7CiAgLmNvbnRlbnQgewogICAgLmVycm9yIHsKICAgICAgY29sb3I6IHZhcigtLWJjLXJlcXVpcmVkKTsKICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICBtYXJnaW4tdG9wOiAtMTBweDsKICAgIH0KICAgIC5sYWJlbCB7CiAgICAgIG1hcmdpbi10b3A6IDI0cHg7CiAgICAgIGNvbG9yOiB2YXIoLS1iYy10ZXh0LXByaW1hcnkpOwogICAgICBmb250LXdlaWdodDogNDAwOwogICAgICBmb250LXNpemU6IDE0cHg7CiAgICB9CiAgICAubGFiZWwtdG9wIHsKICAgICAgbWFyZ2luLXRvcDogMHB4OwogICAgfQogICAgLmJveC1pbnB1dCB7CiAgICAgIG1hcmdpbi10b3A6IDhweDsKICAgICAgaGVpZ2h0OiA0OHB4OwogICAgfQogIH0KICAuZm9vdGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIC5idG4tYWN0aW9uIHsKICAgICAgd2lkdGg6IDEwMHB4OwogICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICY6aG92ZXIgewogICAgICAgIGNvbG9yOiB2YXIoLS1iYy1idG4tZGVmYXVsdC10ZXh0LWhvdmVyKTsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYy1idG4tZGVmYXVsdC1ib3JkZXItaG92ZXIpOwogICAgICB9CiAgICB9CiAgICAuYnRuLWNsb3NlIHsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmMtY29sb3Itd2hpdGUpOwogICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYy1jb2xvci1ncmV5NTApOwogICAgICBjb2xvcjogdmFyKC0tYmMtY29sb3ItZ3JleTE1MCk7CiAgICAgIG1hcmdpbi1yaWdodDogMTZweDsKICAgICAgJjpob3ZlciB7CiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1iYy1idG4tZGVmYXVsdC1ib3JkZXItaG92ZXIpOwogICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJjLWJ0bi1kZWZhdWx0LXRleHQtaG92ZXIpOwogICAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgfQogICAgfQogICAgLmJ0bi1zdWJtaXQgewogICAgICBjb2xvcjogdmFyKC0tYmMtY29sb3Itd2hpdGUpOwogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYy10aGVtZS1wcmltYXJ5LWdyYWRpZW50KTsKICAgICAgYm9yZGVyOiBub25lOwogICAgICAmOmhvdmVyIHsKICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgY29sb3I6IHZhcigtLWJjLWNvbG9yLXdoaXRlKTsKICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYy10aGVtZS1wcmltYXJ5LWdyYWRpZW50LWhvdmVyKSAhaW1wb3J0YW50OwogICAgICB9CiAgICB9CiAgfQp9CkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgOjp2LWRlZXAucG9wdXAtc2V0dXAtcGluewogICAgLmVsLWRpYWxvZ3sKICAgICAgd2lkdGg6IDMzNXB4ICFpbXBvcnRhbnQ7CiAgICAgICZfX2hlYWRlcnsKICAgICAgICAudGl0bGV7CiAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgICAgICAgfQogICAgICB9CiAgICAgICZfX2Zvb3RlcnsKICAgICAgICAucG9wdXAtZm9vdGVyewogICAgICAgICAgLmJ0bi1hY3Rpb257CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["PopupSetupPin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PopupSetupPin.vue","sourceRoot":"src/modules/setting/components/popup","sourcesContent":["<template>\r\n  <base-popup name=\"popup-setup-pin\" class=\"popup-setup-pin\" width=\"480px\" :close=\"handleClose\" :open=\"handleOpen\">\r\n    <div slot=\"title\">\r\n      <span>{{ $t('setupPin.title') }}</span>\r\n    </div>\r\n    <div class=\"content\">\r\n      <el-form class=\"form-setup-pin\" ref=\"setupPin\" :rules=\"rules\" :model=\"form\">\r\n        <div class=\"label label-top\">{{ $t('setupPin.label1') }}</div>\r\n        <el-form-item prop=\"newPin\" class=\"box-input\">\r\n          <el-input type=\"password\" v-model=\"form.newPin\" :placeholder=\"$t('setupPin.label1')\" maxlength=\"4\" @keyup.native=\"numberFormat($event)\"></el-input>\r\n        </el-form-item>\r\n        <div class=\"label\">{{ $t('setupPin.label2') }}</div>\r\n        <el-form-item prop=\"confirmPin\" class=\"box-input\">\r\n          <el-input type=\"password\" v-model=\"form.confirmPin\" :placeholder=\"$t('setupPin.label2')\" maxlength=\"4\" @keyup.native=\"numberFormat($event)\"></el-input>\r\n          <div v-if=\"error\" class=\"error\">{{ $t('setupPin.errorPin') }}</div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div slot=\"footer\" class=\"footer\">\r\n      <div @click=\"handleClose\" class=\"btn-action btn-close\">{{ $t('setupPin.cancel') }}</div>\r\n      <div @click=\"handleSubmit\" class=\"btn-action btn-submit\">{{ $t('setupPin.reset') }}</div>\r\n    </div>\r\n  </base-popup>\r\n</template>\r\n<script lang=\"ts\">\r\n  import { Component, Mixins, Prop, Watch } from 'vue-property-decorator'\r\n  import PopupMixin from '@/mixins/popup'\r\n  import getRepository from '@/services'\r\n  import { SettingRepository } from '@/services/repositories/setting'\r\n  const api: SettingRepository = getRepository('setting')\r\n  @Component({ components: {} })\r\n  export default class PopupSetupPin extends Mixins(PopupMixin) {\r\n    @Prop() dataCode!: string\r\n    form: Record<string, any> = {\r\n      newPin: '',\r\n      confirmPin: ''\r\n    }\r\n    error = false\r\n    rules: any = {\r\n      newPin: [\r\n        {\r\n          required: true,\r\n          message: this.$t('setupPin.wrong-newPin'),\r\n          trigger: 'blur'\r\n        },\r\n        {\r\n          len: 4,\r\n          message: this.$t('setupPin.error-length'),\r\n          trigger: 'blur'\r\n        }\r\n      ],\r\n      confirmPin: [\r\n        {\r\n          required: true,\r\n          message: this.$t('setupPin.wrong-confirmPin'),\r\n          trigger: 'blur'\r\n        },\r\n        {\r\n          len: 4,\r\n          message: this.$t('setupPin.error-length'),\r\n          trigger: 'blur'\r\n        }\r\n      ]\r\n    }\r\n    @Watch('form.confirmPin') watchConfirmPassword(pass: string): void {\r\n      if (pass.length > 0 && this.form.newPin !== pass) {\r\n        this.error = true\r\n      } else {\r\n        this.error = false\r\n      }\r\n    }\r\n    handleReset(): void {\r\n      this.form = {\r\n        newPin: '',\r\n        confirmPin: ''\r\n      }\r\n      this.error = false\r\n      if (this.$refs.setupPin) {\r\n        //@ts-ignore\r\n        this.$refs.setupPin.clearValidate()\r\n      }\r\n    }\r\n    handleOpen(): void {\r\n      console.log('open')\r\n    }\r\n    handleClose(): void {\r\n      this.handleReset()\r\n      this.setOpenPopup({\r\n        popupName: 'popup-setup-pin',\r\n        isOpen: false\r\n      })\r\n    }\r\n    validateForm(): boolean {\r\n      let setupPin: any = this.$refs.setupPin\r\n      let valid = false\r\n      setupPin.validate((_valid: boolean) => {\r\n        valid = _valid\r\n      })\r\n      return valid\r\n    }\r\n    async handleSubmit(): Promise<void> {\r\n      const valid = this.validateForm()\r\n      if (valid && !this.error) {\r\n        const data = {\r\n          pin: this.form.newPin,\r\n          verificationCode: this.dataCode,\r\n          pinEnabled: 1\r\n        }\r\n        await api.onPin(data).then(() => {\r\n          this.$emit('apply')\r\n          this.handleClose()\r\n        })\r\n      }\r\n    }\r\n    numberFormat(event: FocusEvent): void {\r\n      const _event: any = event\r\n      let fnumber = _event.target.value\r\n      if (!isNaN(parseInt(fnumber))) {\r\n        _event.target.value = parseInt(fnumber)\r\n      } else {\r\n        _event.target.value = ''\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .popup-setup-pin {\r\n    .content {\r\n      .error {\r\n        color: var(--bc-required);\r\n        font-size: 12px;\r\n        margin-top: -10px;\r\n      }\r\n      .label {\r\n        margin-top: 24px;\r\n        color: var(--bc-text-primary);\r\n        font-weight: 400;\r\n        font-size: 14px;\r\n      }\r\n      .label-top {\r\n        margin-top: 0px;\r\n      }\r\n      .box-input {\r\n        margin-top: 8px;\r\n        height: 48px;\r\n      }\r\n    }\r\n    .footer {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      .btn-action {\r\n        width: 100px;\r\n        height: 40px;\r\n        text-align: center;\r\n        line-height: 40px;\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        cursor: pointer;\r\n        border-radius: 6px;\r\n        &:hover {\r\n          color: var(--bc-btn-default-text-hover);\r\n          border: 1px solid var(--bc-btn-default-border-hover);\r\n        }\r\n      }\r\n      .btn-close {\r\n        background: var(--bc-color-white);\r\n        border: 1px solid var(--bc-color-grey50);\r\n        color: var(--bc-color-grey150);\r\n        margin-right: 16px;\r\n        &:hover {\r\n          border-color: var(--bc-btn-default-border-hover);\r\n          background: var(--bc-btn-default-text-hover);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n        }\r\n      }\r\n      .btn-submit {\r\n        color: var(--bc-color-white);\r\n        background: var(--bc-theme-primary-gradient);\r\n        border: none;\r\n        &:hover {\r\n          border: none;\r\n          color: var(--bc-color-white);\r\n          background: var(--bc-theme-primary-gradient-hover) !important;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 768px) {\r\n    ::v-deep.popup-setup-pin{\r\n      .el-dialog{\r\n        width: 335px !important;\r\n        &__header{\r\n          .title{\r\n            font-weight: 600;\r\n            font-size: 16px;\r\n            line-height: 24px;\r\n          }\r\n        }\r\n        &__footer{\r\n          .popup-footer{\r\n            .btn-action{\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              font-weight: 600;\r\n              font-size: 14px;\r\n              line-height: 20px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}