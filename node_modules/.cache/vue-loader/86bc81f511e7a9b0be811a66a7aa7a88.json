{"remainingRequest":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NEU\\CDTT\\frontend\\Website\\src\\components\\layout\\Layout.vue?vue&type=style&index=0&id=063de322&lang=scss&scoped=true&","dependencies":[{"path":"D:\\NEU\\CDTT\\frontend\\Website\\src\\components\\layout\\Layout.vue","mtime":1661438413519},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660970368992},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660970411845},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\postcss-loader\\src\\index.js","mtime":1660970387688},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660970364303},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660970364629},{"path":"D:\\NEU\\CDTT\\frontend\\Website\\node_modules\\vue-loader\\lib\\index.js","mtime":1660970394220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWFpbi1sYXlvdXQgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDEwMHZoOwogIC5zaWRlYmFyLWxlZnQgewogICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2NjYzsKICAgIGhlaWdodDogMTAwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllOWU5OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogIH0KICAubWFpbi1jb250ZW50IHsKICAgIC5tYWluLWhlYWRlciB7CiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDJkMGNlOwogICAgICBwYWRkaW5nOiAwcHg7CiAgICB9CiAgICAubWFpbi1jZW50ZXIgewogICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgcGFkZGluZzogMjRweCAyNHB4IDAgMjRweDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjhmYzsKICAgIH0KICB9CiAgLnNpZGViYXItcmlnaHQgewogICAgcGFkZGluZy10b3A6IDE1cHg7CiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGhzbCgwZGVnIDAlIDEwMCUgLyAxMCUpOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICB9Cn0KLnNob3ctcGxheWVyIHsKICAuc2lkZWJhci1sZWZ0IHsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDkwcHgpOwogIH0KICAubWFpbi1jb250ZW50IHsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDkwcHgpOwogIH0KICAuc2lkZWJhci1yaWdodCB7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA5MHB4KTsKICB9Cn0KLm1haW4tZm9vdGVyIHsKICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmMtYm9yZGVyLXByaW1hcnkpOwogIHBhZGRpbmc6IDAgMjRweDsKfQouZm9vdGVyLXJpZ2h0IHsKICAvLyBtYXJnaW4tcmlnaHQ6IDY3cHg7CiAgc3BhbiB7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBjb2xvcjogdmFyKC0tYmMtdGhlbWUtcHJpbWFyeSk7CiAgfQogIC5zdWZmaXggewogICAgLmZsYWctdXNhIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDUwJTsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICBsZWZ0OiA3cHg7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgfQogICAgLmZsYWctdm4gewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogNTAlOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgICAgIGxlZnQ6IDZweDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CiAgfQp9CkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgLm1haW4tbGF5b3V0IHsKICAgIC5tYWluLWNvbnRlbnQgewogICAgICAubWFpbi1jZW50ZXIgewogICAgICAgIHBhZGRpbmc6IDIwcHggMjBweCAwIDIwcHg7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Layout.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\r\n  <el-container class=\"main-layout\" :class=\"isLoading ? 'be-flex-center' : null\">\r\n    <transition name=\"el-fade-in-linear\">\r\n      <base-page-loading v-if=\"isLoading\" />\r\n    </transition>\r\n    <!-- <el-aside v-if=\"!isLoading\" class=\"sidebar-left\" style=\"width: 80px\">\r\n      <main-sidebar />\r\n    </el-aside> -->\r\n    <el-container v-if=\"!isLoading\" class=\"main-content\">\r\n      <el-header class=\"be-flex main-header\" style=\"height: 70px\">\r\n        <div class=\"be-flex-item\">\r\n          <main-header />\r\n        </div>\r\n      </el-header>\r\n      <el-main class=\"main-center\">\r\n        <router-view />\r\n      </el-main>\r\n      <el-footer class=\"be-flex align-center jc-space-between main-footer\">\r\n        <div class=\"footer-left\">\r\n          <span class=\"d-ib mr-24 cursor text-hyperlink\" @click=\"handleClickTerm\">{{ $t('footer.terms') }}</span>\r\n          <span style=\"color: #5b616e\">{{ urlSystem['system.token.company.address'] }}</span>\r\n        </div>\r\n\r\n        <div v-if=\"contractAddress\" class=\"footer-right\">\r\n          Smart Contract (ERC-20):\r\n          <span class=\"text-hyperlink\" @click=\"handleOpenTab\">{{ contractAddress | formatTransactionCode(5, 5) }}</span>\r\n          <!-- <el-select v-model=\"selectLanguage\" @change=\"handleChangeLanguage\" class=\"select-language\" popper-class=\"select-language-dropdown\">\r\n            <el-option :label=\"`${$t('login.en')}`\" value=\"en\">\r\n              <template>\r\n                <div class=\"be-flex flag\">\r\n                  <base-icon icon=\"flag-usa\" size=\"14\" style=\"margin-right: 4px\" />\r\n                  <span class=\"lang\">{{ $t('login.en') }}</span>\r\n                </div>\r\n              </template>\r\n            </el-option>\r\n            <el-option :label=\"`${$t('login.vi')}`\" value=\"vi\">\r\n              <template>\r\n                <div class=\"be-flex flag\">\r\n                  <base-icon icon=\"flag-vn\" size=\"19\" style=\"margin-right: 4px; margin-left: -2px\" />\r\n                  <span class=\"lang\" style=\"margin-left: 1px\">{{ $t('login.vi') }}</span>\r\n                </div>\r\n              </template>\r\n            </el-option>\r\n            <div class=\"suffix\" slot=\"prefix\">\r\n              <base-icon v-if=\"getIcon === 'flag-usa'\" class=\"flag-usa\" :icon=\"getIcon\" size=\"14\" />\r\n              <base-icon v-else class=\"flag-vn\" :icon=\"getIcon\" size=\"19\" />\r\n            </div>\r\n          </el-select> -->\r\n          <!-- <span>{{ $t('footer.help') }}</span> -->\r\n        </div>\r\n      </el-footer>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n<script lang=\"ts\">\r\n  import { Component, Vue } from 'vue-property-decorator'\r\n  import MainSidebar from '../sidebar/MainSidebar.vue'\r\n  import MainHeader from '../header/MainHeader.vue'\r\n  import BasePageLoading from '../page-loading/BasePageLoading.vue'\r\n  import { namespace } from 'vuex-class'\r\n  import EventBus from '@/utils/eventBus'\r\n  import getRepository from '@/services'\r\n  import ParamsRepository from '@/services/repositories/params'\r\n  import NftRepository from '@/services/repositories/nft'\r\n\r\n  const apiParams: ParamsRepository = getRepository('params')\r\n  const apiNft: NftRepository = getRepository('nft')\r\n\r\n  import firebase from '@/utils/firebase'\r\n  import { filter } from 'lodash'\r\n\r\n  const bcAuth = namespace('beAuth')\r\n  const beBase = namespace('beBase')\r\n\r\n  @Component({\r\n    components: { MainSidebar, MainHeader, BasePageLoading }\r\n  })\r\n  export default class Layout extends Vue {\r\n    @bcAuth.Action('getInfo') getInfo!: () => Promise<any>\r\n    @bcAuth.Action('logout') logout!: () => Promise<any>\r\n    @beBase.State('urlSystem') urlSystem!: Record<string, any>\r\n    @beBase.State('coinMain') coinMain!: string\r\n    @bcAuth.Action('setConfigModule') setConfigModule!: (data: Record<string, any>) => void\r\n    @bcAuth.State('walletAddress') walletAddress!: string\r\n    @bcAuth.Mutation('SET_INFO') setInfo!: (info: Record<string, any>) => Promise<any>\r\n    // @bcWallet.Mutation('SET_STATUS_SCREEN') setStatusScreen!: (status: boolean) => void\r\n    @beBase.Mutation('SET_STATUS_SCREEN') setStatusScreen!: (status: boolean) => void\r\n    // apiUser?: UserRepository\r\n    isLoading = false\r\n    selectLanguage = ''\r\n    timing: any = null\r\n\r\n    refAssetNetwork: any = null\r\n    listAssetNetwork: Array<Record<string, any>> = []\r\n\r\n    async created(): Promise<void> {\r\n      try {\r\n        this.isLoading = true\r\n        this.selectLanguage = window.localStorage.getItem('bc-lang')!\r\n        if (this.walletAddress) {\r\n          const info = await apiNft.getInfoExternalUser()\r\n          this.setInfo(info.data)\r\n        } else {\r\n          await this.getInfo()\r\n        }\r\n        const result = await apiParams.getConfigModule()\r\n        this.setConfigModule(result)\r\n        await this.handleSignInFireBase()\r\n        await this.handleGetAssetNetwork()\r\n        this.timing = setInterval(() => {\r\n          this.handleSignInFireBase()\r\n        }, 3600000)\r\n        setTimeout(() => {\r\n          this.isLoading = false\r\n        }, 500)\r\n        if (window.innerWidth > 1200) {\r\n          this.setStatusScreen(true)\r\n        } else {\r\n          this.setStatusScreen(false)\r\n        }\r\n      } catch (error: any) {\r\n        this.isLoading = false\r\n        let message: any = ''\r\n        const { data } = error.response\r\n        if (data.status === 'USER_LOCKED') {\r\n          message = this.$t('notify.user-locked')\r\n          this.$message.error({ message, duration: 5000 })\r\n          this.logout().then(() => {\r\n            this.$router.push({ name: 'login' })\r\n          })\r\n        }\r\n        if (data.status === 'USER_BLOCKED') {\r\n          message = this.$t('notify.user-blocked')\r\n          this.$message.error({ message, duration: 5000 })\r\n          this.logout().then(() => {\r\n            this.$router.push({ name: 'login' })\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    mounted(): void {\r\n      setTimeout(() => {\r\n        this.hideChatBox()\r\n      }, 1000)\r\n    }\r\n\r\n    destroyed(): void {\r\n      clearInterval(this.timing)\r\n      const refAssetNetwork = firebase.database().ref('asset_networks')\r\n      refAssetNetwork.off('value', this.refAssetNetwork)\r\n    }\r\n\r\n    get getIcon(): string {\r\n      return this.selectLanguage === 'vi' ? 'flag-vn' : 'flag-usa'\r\n    }\r\n\r\n    get contractAddress(): string {\r\n      if (this.listAssetNetwork.length) {\r\n        const tokenLynk = filter(this.listAssetNetwork, token => token.currency === this.coinMain)[0]\r\n        return tokenLynk.contractAddress\r\n      }\r\n      return ''\r\n    }\r\n\r\n    handleOpenTab(): void {\r\n      window.open(`https://etherscan.io/address/${this.contractAddress}`, '_blank')\r\n    }\r\n\r\n    hideChatBox(): void {\r\n      const routeName = this.$route.name!\r\n      const elm = document.querySelector('[role=\"presentation\"]') as HTMLElement\r\n      if (elm) {\r\n        if (routeName !== 'home') {\r\n          elm!.style.display = 'none'\r\n        } else {\r\n          elm!.style.display = 'block'\r\n        }\r\n      } else {\r\n        this.hideChatBox()\r\n      }\r\n    }\r\n\r\n    async handleGetAssetNetwork(): Promise<void> {\r\n      try {\r\n        const refAssetNetwork = firebase.database().ref('asset_networks')\r\n        this.refAssetNetwork = refAssetNetwork.on('value', snapshot => {\r\n          this.listAssetNetwork = snapshot.val()\r\n        })\r\n        return Promise.resolve()\r\n      } catch (error) {\r\n        return Promise.reject()\r\n      }\r\n    }\r\n\r\n    async handleSignInFireBase(): Promise<any> {\r\n      try {\r\n        const data = {\r\n          password: this.$options.filters?.encryptPassword('#!@Firebase-web-client@!#')\r\n        }\r\n        const result = await apiParams.getTokenFirebase(data)\r\n        await firebase.auth().signInWithCustomToken(result.authToken)\r\n        return Promise.resolve()\r\n      } catch (error) {\r\n        return Promise.reject(error)\r\n      }\r\n    }\r\n\r\n    handleChangeLanguage(lang: string): void {\r\n      this.$i18n.locale = lang\r\n      window.localStorage.setItem('bc-lang', lang)\r\n      EventBus.$emit('changeLang', lang)\r\n      location.reload()\r\n    }\r\n\r\n    handleClickTerm(): void {\r\n      window.open(`${this.urlSystem['system.token.terms']}`)\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .main-layout {\r\n    position: relative;\r\n    height: 100vh;\r\n    .sidebar-left {\r\n      border-right: 1px solid #ccc;\r\n      height: 100%;\r\n      overflow: hidden;\r\n      background-color: #e9e9e9;\r\n      position: relative;\r\n    }\r\n    .main-content {\r\n      .main-header {\r\n        border-bottom: 1px solid #d2d0ce;\r\n        padding: 0px;\r\n      }\r\n      .main-center {\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        padding: 24px 24px 0 24px;\r\n        background-color: #f6f8fc;\r\n      }\r\n    }\r\n    .sidebar-right {\r\n      padding-top: 15px;\r\n      border-left: 1px solid hsl(0deg 0% 100% / 10%);\r\n      overflow: hidden;\r\n    }\r\n  }\r\n  .show-player {\r\n    .sidebar-left {\r\n      height: calc(100vh - 90px);\r\n    }\r\n    .main-content {\r\n      height: calc(100vh - 90px);\r\n    }\r\n    .sidebar-right {\r\n      height: calc(100vh - 90px);\r\n    }\r\n  }\r\n  .main-footer {\r\n    border-top: 1px solid var(--bc-border-primary);\r\n    padding: 0 24px;\r\n  }\r\n  .footer-right {\r\n    // margin-right: 67px;\r\n    span {\r\n      cursor: pointer;\r\n      color: var(--bc-theme-primary);\r\n    }\r\n    .suffix {\r\n      .flag-usa {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        left: 7px;\r\n        display: block;\r\n      }\r\n      .flag-vn {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        left: 6px;\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 768px) {\r\n    .main-layout {\r\n      .main-content {\r\n        .main-center {\r\n          padding: 20px 20px 0 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}